<?xml version="1.0" encoding="UTF-8"?>
<exportedData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="commander.xsd" version="61" buildLabel="build_4.2_77824_2014.09.27_02:09:10" buildVersion="4.2.6.77824" passkey="a30cbf89cfdae202c5227ce40fe867512295566d">
  <exportPath>/projects/@PLUGIN_KEY@</exportPath>
  <project>
    <projectName>@PLUGIN_KEY@</projectName>
    <description>A set of tools to help with the administration of a Commander Server.</description>
    <resourceName/>
    <workspaceName/>
    <propertySheet>
      <property>
        <propertyName>ec_dashboardReports</propertyName>
        <propertySheet>
          <property>
            <propertyName>Performance Report</propertyName>
            <propertySheet>
              <property>
                <propertyName>image</propertyName>
                <expandable>1</expandable>
                <value>/commander/jobSteps/2156220/images/custom4640a746153058b20071.png</value>
              </property>
              <property>
                <propertyName>link</propertyName>
                <expandable>1</expandable>
                <value>/commander/jobSteps/2156220/Performance Report.html</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_reportData</propertyName>
        <propertySheet>
          <property>
            <propertyName>256108</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2070970</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2070970</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2015-12-24 02:02:01</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>256445</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2074465</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2074465</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2015-12-25 02:01:31</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>257504</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2081738</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2081738</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-01 02:01:47</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>257954</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2084402</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2084402</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-02 02:00:45</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>260630</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2108699</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2108699</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-11 02:00:40</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>260844</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2109423</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2109423</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-14 07:27:16</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>261148</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2114697</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2114697</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-15 02:02:34</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>261360</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2117198</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2117198</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-19 02:01:42</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>261874</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2123976</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2123976</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-20 02:00:44</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>262442</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2127205</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2127205</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-01-22 02:01:32</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>264076</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2137381</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2137381</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-02-13 02:02:19</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>264686</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>266058</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2154995</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2154995</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-02-21 02:02:09</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>266197</propertyName>
            <propertySheet>
              <property>
                <propertyName>Performance Report_L2</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2156220</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>Performance Report_L3</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>jobStepId</propertyName>
                    <expandable>1</expandable>
                    <value>2156220</value>
                  </property>
                  <property>
                    <propertyName>reportDate</propertyName>
                    <expandable>1</expandable>
                    <value>2016-02-21 12:35:10</value>
                  </property>
                  <property>
                    <propertyName>reportType</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report</value>
                  </property>
                  <property>
                    <propertyName>reportUrl</propertyName>
                    <expandable>1</expandable>
                    <value>Performance Report.html</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_savedSearches</propertyName>
        <propertySheet>
          <property>
            <propertyName>last500PerformanceMetricsJobs</propertyName>
            <description/>
            <propertySheet>
              <property>
                <propertyName>displayFilter1</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>filterName</propertyName>
                    <expandable>1</expandable>
                    <value>procedureName</value>
                  </property>
                  <property>
                    <propertyName>operand1</propertyName>
                    <expandable>1</expandable>
                    <value>performanceMetrics</value>
                  </property>
                  <property>
                    <propertyName>operator</propertyName>
                    <expandable>1</expandable>
                    <value>equals</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>filter1</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>filterName</propertyName>
                    <expandable>1</expandable>
                    <value>procedureName</value>
                  </property>
                  <property>
                    <propertyName>operand1</propertyName>
                    <expandable>1</expandable>
                    <value>performanceMetrics</value>
                  </property>
                  <property>
                    <propertyName>operator</propertyName>
                    <expandable>1</expandable>
                    <value>equals</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>sort1</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>order</propertyName>
                    <expandable>1</expandable>
                    <value>descending</value>
                  </property>
                  <property>
                    <propertyName>sortName</propertyName>
                    <expandable>1</expandable>
                    <value>createTime</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>filterName</propertyName>
                <expandable>1</expandable>
                <value>jobSearch</value>
              </property>
              <property>
                <propertyName>filter_count</propertyName>
                <expandable>1</expandable>
                <value>1</value>
              </property>
              <property>
                <propertyName>maxIds</propertyName>
                <expandable>1</expandable>
                <value>500</value>
              </property>
              <property>
                <propertyName>maxResults</propertyName>
                <expandable>1</expandable>
                <value>20</value>
              </property>
              <property>
                <propertyName>objectType</propertyName>
                <expandable>1</expandable>
                <value>job</value>
              </property>
              <property>
                <propertyName>projectionCount</propertyName>
                <expandable>1</expandable>
                <value>0</value>
              </property>
              <property>
                <propertyName>relatedToCount</propertyName>
                <expandable>1</expandable>
                <value>0</value>
              </property>
              <property>
                <propertyName>resultsPage</propertyName>
                <expandable>1</expandable>
                <value>searchResults.php</value>
              </property>
              <property>
                <propertyName>sortCount</propertyName>
                <expandable>1</expandable>
                <value>1</value>
              </property>
              <property>
                <propertyName>textSearchCount</propertyName>
                <expandable>1</expandable>
                <value>0</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>pac_configurations</propertyName>
        <description>Code used to manage configurations with projectAsCode</description>
        <propertySheet>
          <property>
            <propertyName>cgi-bin</propertyName>
            <description>The cgi-bin scripts</description>
            <propertySheet>
              <property>
                <propertyName>jobMonitor.cgi</propertyName>
                <description>Monitors a job: waits for it to complete and reports on its success or failure.</description>
                <expandable>1</expandable>
                <value>#!/bin/sh

exec "$COMMANDER_HOME/bin/ec-perl" -x "$0" "${@}"

#!perl

################################
# monitorJob.cgi
#
# Monitors a job: waits for it to complete and reports on its success or
# failure.
#
################################
use warnings;
use strict;
use ElectricCommander;
use XML::XPath;
use CGI;

use constant {
    SUCCESS =&gt; 0,
    ERROR   =&gt; 1,
};


my $gTimeout = 20;

################################
# main - Main program for the application.
#
# Arguments:
#   -
#
# Returns:
#   -
#
################################
sub main {

    # Get CGI args
    my $cgi = new CGI;
    my $cgiArgs = $cgi-&gt;Vars;
    
    # Check for required args
    my $jobId = $cgiArgs-&gt;{jobId};
    if (!defined $jobId || "$jobId" eq "") {
        reportError($cgi, "jobId is a required parameter");
    }
    
    # Wait for job
    my $ec = new ElectricCommander({abortOnError =&gt; 0});
    my $xpath = $ec-&gt;waitForJob($jobId, $gTimeout);
    my $errors = $ec-&gt;checkAllErrors($xpath);
    
    if ("$errors" ne "") {
        reportError($cgi, $errors);
    }
    
    my $status = $xpath-&gt;findvalue("//status");
    if ("$status" ne "completed") {
        
        # Abort job and report failure
        abortJobAndReportError($cgi, $ec, $jobId);
    }
    
    my $outcome = $xpath-&gt;findvalue("//outcome");
    if ("$outcome" ne "success") {
        
        # Report job errors
        reportJobErrors($cgi, $ec, $jobId);
    }
    
    # If the job was successful and the debug flag is not set, delete it
    my $debug = $cgiArgs-&gt;{debug};
    if (!defined $debug || "$debug" ne "1") {
        $ec-&gt;deleteJob($jobId);
    }
    
    # Report the job's success
    reportSuccess($cgi);
}

################################
# abortJobAndReportError - Abort the job and report the timeout error.
#
# Arguments:
#   cgi   
#   ec    - ElectricCommander instance
#   jobId - int identifier for the job 
#
# Returns:
#   -
#
################################
sub abortJobAndReportError($$$) {
    my ($cgi, $ec, $jobId) = @_;
    
    my $errMsg = "Aborting job after reaching timeout";
        
    # Try to abort the job
    my $xpath = $ec-&gt;abortJob($jobId);
    my $errors = $ec-&gt;checkAllErrors($xpath);
    if ("$errors" ne "") {
        reportError($cgi, $errMsg . "\n" . $errors);
    }
    
    # Wait for the job to finish aborting
    $xpath = $ec-&gt;waitForJob($jobId, $gTimeout);
    $errors = $ec-&gt;checkAllErrors($xpath);
    if ("$errors" ne "") {
        reportError($cgi, $errMsg . "\n" . $errors);
    }
    
    # Check to see if the job actually aborted
    my $status = $xpath-&gt;findvalue("//status");
    if ("$status" ne "completed") {
        reportError($cgi, $errMsg . "\nJob still running after abort");
    }
    
    reportError($cgi, $errMsg . "\nJob successfully aborted");
}

################################
# reportJobErrors - Look for errors in the job to report.
#
# Arguments:
#   cgi   
#   ec    - ElectricCommander instance
#   jobId - int identifier for the job 
#
# Returns:
#   -
#
################################
sub reportJobErrors($$$) {
    my ($cgi, $ec, $jobId) = @_;
    
    # Get job details
    my $xpath = $ec-&gt;getJobDetails($jobId);
    my $errors = $ec-&gt;checkAllErrors($xpath);
    if ("$errors" ne "") {
        reportError($cgi, $errors);
    }
    
    # Look for configError first
    my $configError = $xpath-&gt;findvalue("//job/propertySheet/property[propertyName='configError']/value");
    if (defined $configError &amp;&amp; "$configError" ne "") {
        reportError($cgi, $configError)
    }
    
    # Find the first error message and report it
    my @errorMessages = $xpath-&gt;findnodes("//errorMessage");
    if (@errorMessages &gt; 0) {
        my $firstMessage = $errorMessages[0]-&gt;string_value();
        reportError($cgi, $firstMessage);
    }
    
    # Report a generic error message if we couldn't find a specific one on the
    # job
    reportError($cgi, "Configuration creation failed");
}

################################
# reportError - Print the error message and exit.
#
# Arguments:
#   cgi   
#   error - string to print
#
# Returns:
#   0 - Success
#   1 - Error
#
################################
sub reportError($$) {
    my ($cgi, $error) = @_;
    
    print $cgi-&gt;header("text/html");
    print $error;
    exit ERROR;
}

################################
# reportSuccess - Report success.
#
# Arguments:
#   cgi   
#
# Returns:
#   -
#
################################
sub reportSuccess($) {
    my ($cgi) = @_;
    
    print $cgi-&gt;header("text/html");
    print "Success";
}

main();
exit SUCCESS;
</value>
              </property>
              <property>
                <propertyName>plugin.cgi</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>#!/bin/sh

exec "$COMMANDER_HOME/bin/ec-perl" -x "$0" "${@}"

################################
#!perl
# plugin.cgi -
#
# Get/set the plugins configuration info for UI
#
# Copyright (c) 2007-2015 Electric Cloud, Inc.
# All rights reserved
################################

use strict;
use warnings;
use Getopt::Long;
use File::Spec;
use File::Temp;
use ElectricCommander;
use ElectricCommander::PropMod;
use ElectricCommander::PropDB;
use CGI qw(:standard);

use constant {
    SUCCESS =&gt; 0,
    ERROR   =&gt; 1,
};

# used for output redirection
$::tmpOut = "";
$::tmpErr = "";
$::oldout;
$::olderr;

################################
# main - Main program for the application.
#
# Arguments:
#   -
#
# Returns:
#   0 - Success
#   1 - Error
#
################################
sub main() {

    ## globals
    $::cg = CGI-&gt;new();
    $::opts = $::cg-&gt;Vars;
    $::ec = new ElectricCommander();
    $::ec-&gt;abortOnError(0);

    # make sure no libraries print to STDOUT
    saveOutErr();

    # Check for required arguments.
    if (!defined $::opts-&gt;{cmd} || "$::opts-&gt;{cmd}" eq "") {
        retError("error: cmd is required parameter");
    }

    # ---------------------------------------------------------------
    # Dispatch operation
    # ---------------------------------------------------------------
    for ($::opts-&gt;{cmd})
    {
        # modes
        /getCfgList/i and do   { getCfgList(); last; };
    }
    retError("unknown command $::opts-&gt;{cmd}");

    exit SUCCESS;
}


################################
# getCfgList - Return the list of configurations from the plugin
#
# Arguments:
#   -
#
# Returns:
#   0 - Success
#   1 - Error
#
################################
sub getCfgList {

    my $gcfg = new ElectricCommander::PropDB($::ec,"/projects/$[/myJob/pluginName]-$[/myJob/version]/plugin_cfgs");

    my %cfgs = $gcfg-&gt;getRows();
    # print results as XML block
    my $xml = "";
    $xml .= "&lt;cfgs&gt;\n";
    foreach my $cfg (keys  %cfgs) {
        $xml .= "  &lt;cfg&gt;\n";
        $xml .= "     &lt;name&gt;$cfg&lt;/name&gt;\n";
        $xml .= "  &lt;/cfg&gt;\n";
    }
    $xml .= "&lt;/cfgs&gt;\n";
    
    printXML($xml);
    exit SUCCESS;
}

################################
# retError - Return an error message
#
# Arguments:
#   msg - Message to return
#
# Returns:
#   0 - Success
#   1 - Error
#
################################
sub retError {
    my ($msg) = @_;

    printXML("&lt;error&gt;$msg&lt;/error&gt;\n");
    exit ERROR;
}

################################
# printXML - Print the XML block, add stdout, stderr
#
# Arguments:
#   xml - xml string to print
#
# Returns:
#   -
#
################################
sub printXML {
    my ($xml) = @_;

    my ($out,$err) = retrieveOutErr();
    print $::cg-&gt;header("text/html");
    print "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n";
    print "&lt;response&gt;\n";
    print "$xml\n";
    print "&lt;stdout&gt;" . xmlQuote($out) . "&lt;/stdout&gt;\n";
    print "&lt;stderr&gt;" . xmlQuote($err) . "&lt;/stderr&gt;\n";
    print "&lt;/response&gt;";
}

################################
# saveOutErr - Redirect stdout/stderr to files so that any spurious output from commands does not end up on the return to the cgi caller
#
# Arguments:
#   -
#
# Returns:
#   -
#
################################
sub saveOutErr {
    # temporarily save STDOUT/STDERR to files
    open $::oldout, "&gt;&amp;STDOUT"  or die "Can't dup STDOUT: $!";
    open $::olderr, "&gt;&amp;STDERR"  or die "Can't dup STDERR: $!";
    close STDOUT;
    open STDOUT, '&gt;', \$::tmpOut or die "Can't open STDOUT: $!";
    close STDERR;
    open STDERR, '&gt;', \$::tmpErr or die "Can't open STDOUT: $!";

}

################################
# retrieveOutErr - Reset stdout/sterr back to normal and return the contents of the temp files
#
# Arguments:
#   -
#
# Returns:
#   tmpOut - Content of out file
#   tmpErr - Content of error file
#
################################
sub retrieveOutErr {
    # reconnect to normal STDOUT/STDERR
    open STDOUT, "&gt;&amp;", $::oldout or die "can't reinstate $!";
    open STDERR, "&gt;&amp;", $::olderr or die "can't reinstate $!";
    return ($::tmpOut, $::tmpErr);
}

################################
# xmlQuote - Quote special characters such as &amp; to generate well-formed XML character data.
#
# Arguments:
#   string - String whose contents should be quoted.
#
# Returns:
#   string - Quoted string
#
################################
sub xmlQuote($) {
    my ($string) = @_;

    $string =~ s/&amp;/&amp;amp;/g;
    $string =~ s/&lt;/&amp;lt;/g;
    $string =~ s/&gt;/&amp;gt;/g;
    $string =~ s{([\0-\x{08}\x{0b}\x{0c}\x{0e}-\x{1f}])}{
    sprintf("%%%02x", ord($1))}ge;
    return $string;
}

main();
</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>java</propertyName>
            <description>The java code in src/main/java/ecplugins/XXXX/client</description>
            <propertySheet>
              <property>
                <propertyName>ConfigurationList.java</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>
// ConfigurationList.java --
//
// ConfigurationList.java is part of ElectricCommander.
//
// Copyright (c) 2005-2015 Electric Cloud, Inc.
// All rights reserved.
//

package ecplugins.$[/myJob/javaName].client;

import java.util.HashMap;
import java.util.Map;

import com.google.gwt.http.client.Request;
import com.google.gwt.http.client.RequestCallback;
import com.google.gwt.http.client.RequestException;
import com.google.gwt.http.client.Response;
import com.google.gwt.user.client.Window.Location;
import com.google.gwt.user.client.ui.Anchor;
import com.google.gwt.user.client.ui.Label;
import com.google.gwt.user.client.ui.Widget;

import com.electriccloud.commander.client.ChainedCallback;
import com.electriccloud.commander.client.requests.RunProcedureRequest;
import com.electriccloud.commander.client.responses.DefaultRunProcedureResponseCallback;
import com.electriccloud.commander.client.responses.RunProcedureResponse;
import com.electriccloud.commander.gwt.client.requests.CgiRequestProxy;
import com.electriccloud.commander.gwt.client.ui.ListTable;
import com.electriccloud.commander.gwt.client.ui.SimpleErrorBox;
import com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder;

import ecinternal.client.DialogClickHandler;
import ecinternal.client.ListBase;

import static com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder.createPageUrl;
import static com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder.createRedirectUrl;

import static ecinternal.client.InternalComponentBaseFactory.getPluginName;

/**
 * Plugin Configuration List.
 */
public class ConfigurationList
    extends ListBase
{

    //~ Instance fields --------------------------------------------------------

    private final PluginConfigList m_configList;

    //~ Constructors -----------------------------------------------------------

    public ConfigurationList()
    {
        super("ecgc", "$[/myJob/pluginName] Configurations", "All Configurations");
        m_configList = new PluginConfigList();
    }

    //~ Methods ----------------------------------------------------------------

    @Override protected Anchor constructCreateLink()
    {
        CommanderUrlBuilder urlBuilder = createPageUrl(getPluginName(),
                "newConfiguration");

        urlBuilder.setParameter("redirectTo",
            createRedirectUrl().buildString());

        return new Anchor("Create Configuration", urlBuilder.buildString());
    }

    @Override protected void load()
    {
        setStatus("Loading...");

        PluginConfigListLoader loader = new PluginConfigListLoader(m_configList,
                this, new ChainedCallback() {
                    @Override public void onComplete()
                    {
                        loadList();
                    }
                });

        loader.load();
    }

    private void deleteConfiguration(String configName)
    {
        setStatus("Deleting...");
        clearErrorMessages();

        // Build runProcedure request
        RunProcedureRequest request = getRequestFactory()
                .createRunProcedureRequest();

        request.setProjectName("/plugins/$[/myJob/pluginName]/project");
        request.setProcedureName("DeleteConfiguration");
        request.addActualParameter("config", configName);
        request.setCallback(new DefaultRunProcedureResponseCallback(this) {
                @Override public void handleResponse(
                        RunProcedureResponse response)
                {

                    if (getLog().isDebugEnabled()) {
                        getLog().debug(
                            "Commander runProcedure request returned job id: "
                                + response.getJobId());
                    }

                    waitForJob(response.getJobId().toString());
                }
            });

        // Launch the procedure
        if (getLog().isDebugEnabled()) {
            getLog().debug("Issuing Commander request: " + request);
        }

        doRequest(request);
    }

    private void loadList()
    {
        ListTable listTable = getListTable();

        if (!m_configList.isEmpty()) {
            listTable.addHeaderRow(true, "Configuration Name");
        }

        for (String configName : m_configList.getConfigNames()) {

            // Config name
            Label configNameLabel = new Label(configName);

            
            // "Edit" link
            CommanderUrlBuilder urlBuilder = createPageUrl(getPluginName(),
                    "editConfiguration");

            urlBuilder.setParameter("configName", configName);
            urlBuilder.setParameter("redirectTo",
                createRedirectUrl().buildString());

            Anchor editConfigLink = new Anchor("Edit",
                    urlBuilder.buildString());

            // "Delete" link
            Anchor             deleteConfigLink = new Anchor("Delete");
            DialogClickHandler dch              = new DialogClickHandler(
                    new DeleteConfirmationDialog(configName,
                        "Are you sure you want to delete the $[/myJob/pluginName] configuration '"
                            + configName + "'?") {
                        @Override protected void doDelete()
                        {
                            deleteConfiguration(m_objectId);
                        }
                    });

            deleteConfigLink.addClickHandler(dch);

            // Add the row
            Widget actions = this.getUIFactory()
                                 .constructActionList(editConfigLink,
                                     deleteConfigLink);

            listTable.addRow(configNameLabel, actions);
        }

        clearStatus();
    }

    private void waitForJob(final String jobId)
    {
        CgiRequestProxy     cgiRequestProxy = new CgiRequestProxy(
                getPluginName(), "jobMonitor.cgi");
        Map&lt;String, String&gt; cgiParams       = new HashMap&lt;String, String&gt;();

        cgiParams.put("jobId", jobId);

        // Pass debug flag to CGI, which will use it to determine whether to
        // clean up a successful job
        if ("1".equals(getGetParameter("debug"))) {
            cgiParams.put("debug", "1");
        }

        try {
            cgiRequestProxy.issueGetRequest(cgiParams, new RequestCallback() {
                    @Override public void onError(
                            Request   request,
                            Throwable exception)
                    {
                        addErrorMessage("CGI request failed:: ", exception);
                    }

                    @Override public void onResponseReceived(
                            Request  request,
                            Response response)
                    {
                        String responseString = response.getText();

                        if (getLog().isDebugEnabled()) {
                            getLog().debug(
                                "CGI response received: " + responseString);
                        }

                        if (responseString.startsWith("Success")) {

                            // We're done!
                            Location.reload();
                        }
                        else {
                            SimpleErrorBox      error      = getUIFactory()
                                    .createSimpleErrorBox(
                                        "Error occurred during configuration deletion: "
                                        + responseString);
                            CommanderUrlBuilder urlBuilder = CommanderUrlBuilder
                                    .createUrl("jobDetails.php")
                                    .setParameter("jobId", jobId);

                            error.add(
                                new Anchor("(See job for details)",
                                    urlBuilder.buildString()));
                            addErrorMessage(error);
                        }
                    }
                });
        }
        catch (RequestException e) {
            addErrorMessage("CGI request failed:: ", e);
        }
    }
}
</value>
              </property>
              <property>
                <propertyName>ConfigurationManagementFactory.java</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>
// ConfigurationManagementFactory.java --
//
// ConfigurationManagementFactory.java is part of ElectricCommander.
//
// Copyright (c) 2005-2015 Electric Cloud, Inc.
// All rights reserved.
//

package ecplugins.$[/myJob/javaName].client;

import ecinternal.client.InternalComponentBaseFactory;
import ecinternal.client.InternalFormBase;
import ecinternal.client.PropertySheetEditor;

import com.electriccloud.commander.gwt.client.BrowserContext;
import com.electriccloud.commander.gwt.client.Component;
import com.electriccloud.commander.gwt.client.ComponentContext;
import org.jetbrains.annotations.NotNull;

import static com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder.createPageUrl;

public class ConfigurationManagementFactory
    extends InternalComponentBaseFactory
{

    //~ Methods ----------------------------------------------------------------

    @NotNull
    @Override public Component createComponent(ComponentContext jso)
    {
        String    panel     = jso.getParameter("panel");
        Component component;

        if ("create".equals(panel)) {
            component = new CreateConfiguration();
        }
        else if ("edit".equals(panel)) {
            String configName    = BrowserContext.getInstance()
                                                 .getGetParameter("configName");
            String propSheetPath = "/plugins/" + getPluginName()
                    + "/project/plugin_cfgs/" + configName;
            String formXmlPath   = "/plugins/" + getPluginName()
                    + "/project/ui_forms/editConfigForm";

            component = new PropertySheetEditor("ecgc",
                    "Edit $[/myJob/pluginName] Configuration", configName, propSheetPath,
                    formXmlPath, getPluginName());

            ((InternalFormBase) component).setDefaultRedirectToUrl(
                createPageUrl(getPluginName(), "configurations").buildString());
        }
        else {

            // Default panel is "list"
            component = new ConfigurationList();
        }

        return component;
    }
}
</value>
              </property>
              <property>
                <propertyName>CreateConfiguration.java</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>// CreateConfiguration.java --
//
// CreateConfiguration.java is part of ElectricCommander.
//
// Copyright (c) 2005-2012 Electric Cloud, Inc.
// All rights reserved.
//

package ecplugins.$[/myJob/javaName].client;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

import com.google.gwt.http.client.Request;
import com.google.gwt.http.client.RequestCallback;
import com.google.gwt.http.client.RequestException;
import com.google.gwt.http.client.Response;
import com.google.gwt.user.client.ui.Anchor;

import com.electriccloud.commander.client.requests.RunProcedureRequest;
import com.electriccloud.commander.client.responses.DefaultRunProcedureResponseCallback;
import com.electriccloud.commander.client.responses.RunProcedureResponse;
import com.electriccloud.commander.gwt.client.requests.CgiRequestProxy;
import com.electriccloud.commander.gwt.client.ui.CredentialEditor;
import com.electriccloud.commander.gwt.client.ui.FormBuilder;
import com.electriccloud.commander.gwt.client.ui.FormTable;
import com.electriccloud.commander.gwt.client.ui.SimpleErrorBox;
import com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder;

import ecinternal.client.InternalFormBase;
import ecinternal.client.ui.CustomEditorLoader;

import static com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder.createPageUrl;
import static com.electriccloud.commander.gwt.client.util.CommanderUrlBuilder.createUrl;

import static ecinternal.client.InternalComponentBaseFactory.getPluginName;

/**
 * Create Plugin Configuration.
 */
public class CreateConfiguration
    extends InternalFormBase
{

    //~ Constructors -----------------------------------------------------------

    public CreateConfiguration()
    {
        //noinspection HardCodedStringLiteral
        super("New $[/myJob/pluginName] Configuration", "$[/myJob/pluginName] Configurations");

        CommanderUrlBuilder urlBuilder = createPageUrl(getPluginName(),
                "configurations");

        setDefaultRedirectToUrl(urlBuilder.buildString());
    }

    //~ Methods ----------------------------------------------------------------

    @Override protected FormTable initializeFormTable()
    {
        return getUIFactory().createFormBuilder();
    }

    @Override protected void load()
    {
        FormBuilder fb = (FormBuilder) getFormTable();

        setStatus("Loading...");

        CustomEditorLoader loader = new CustomEditorLoader(fb, this);

        loader.setCustomEditorPath("/plugins/$[/myJob/pluginName]"
                + "/project/ui_forms/createConfigForm");
        loader.load();
        clearStatus();
    }

    @Override protected void submit()
    {
        setStatus("Saving...");
        clearAllErrors();

        FormBuilder fb = (FormBuilder) getFormTable();

        if (!fb.validate()) {
            clearStatus();

            return;
        }

        // Build runProcedure request
        RunProcedureRequest request = getRequestFactory()
                .createRunProcedureRequest();

        request.setProjectName("/plugins/$[/myJob/pluginName]/project");
        request.setProcedureName("CreateConfiguration");

        Map&lt;String, String&gt; params           = fb.getValues();
        Collection&lt;String&gt;  credentialParams = fb.getCredentialIds();

        for (String paramName : params.keySet()) {

            if (credentialParams.contains(paramName)) {
                CredentialEditor credential = fb.getCredential(paramName);

                request.addCredentialParameter(paramName,
                    credential.getUsername(), credential.getPassword());
            }
            else {
                request.addActualParameter(paramName, params.get(paramName));
            }
        }

        request.setCallback(new DefaultRunProcedureResponseCallback(this) {
                @Override public void handleResponse(
                        RunProcedureResponse response)
                {

                    if (getLog().isDebugEnabled()) {
                        getLog().debug(
                            "Commander runProcedure request returned job id: "
                                + response.getJobId());
                    }

                    waitForJob(response.getJobId().toString());
                }
            });

        if (getLog().isDebugEnabled()) {
            getLog().debug("Issuing Commander request: " + request);
        }

        doRequest(request);
    }

    private void waitForJob(final String jobId)
    {
        CgiRequestProxy     cgiRequestProxy = new CgiRequestProxy(
                getPluginName(), "jobMonitor.cgi");
        Map&lt;String, String&gt; cgiParams       = new HashMap&lt;String, String&gt;();

        cgiParams.put("jobId", jobId);

        // Pass debug flag to CGI, which will use it to determine whether to
        // clean up a successful job
        if ("1".equals(getGetParameter("debug"))) {
            cgiParams.put("debug", "1");
        }

        try {
            cgiRequestProxy.issueGetRequest(cgiParams, new RequestCallback() {
                    @Override public void onError(
                            Request   request,
                            Throwable exception)
                    {
                        addErrorMessage("CGI request failed: ", exception);
                    }

                    @Override public void onResponseReceived(
                            Request  request,
                            Response response)
                    {
                        String responseString = response.getText();

                        if (getLog().isDebugEnabled()) {
                            getLog().debug(
                                "CGI response received: " + responseString);
                        }

                        if (responseString.startsWith("Success")) {

                            // We're done!
                            cancel();
                        }
                        else {
                            SimpleErrorBox      error      = getUIFactory()
                                    .createSimpleErrorBox(
                                        "Error occurred during configuration creation: "
                                        + responseString);
                            CommanderUrlBuilder urlBuilder = createUrl(
                                    "jobDetails.php").setParameter("jobId",
                                    jobId);

                            error.add(
                                new Anchor("(See job for details)",
                                    urlBuilder.buildString()));
                            addErrorMessage(error);
                        }
                    }
                });
        }
        catch (RequestException e) {
            addErrorMessage("CGI request failed: ", e);
        }
    }
}
</value>
              </property>
              <property>
                <propertyName>PluginConfigList.java</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>
// PluginConfigList.java --
//
// PluginConfigList.java is part of ElectricCommander.
//
// Copyright (c) 2005-2015 Electric Cloud, Inc.
// All rights reserved.
//

package ecplugins.$[/myJob/javaName].client;

import java.util.List;
import java.util.Map;
import java.util.Set;
import java.util.TreeMap;

import com.google.gwt.user.client.ui.ListBox;
import com.google.gwt.xml.client.Document;
import com.google.gwt.xml.client.Node;
import com.google.gwt.xml.client.XMLParser;

import static com.electriccloud.commander.gwt.client.util.XmlUtil.getNodeByName;
import static com.electriccloud.commander.gwt.client.util.XmlUtil.getNodeValueByName;
import static com.electriccloud.commander.gwt.client.util.XmlUtil.getNodesByName;

public class PluginConfigList
{

    //~ Instance fields --------------------------------------------------------

    private final Map&lt;String, PluginConfigInfo&gt; m_configInfo =
        new TreeMap&lt;String,  PluginConfigInfo&gt;();

    //~ Methods ----------------------------------------------------------------

    public void addConfig(
            String configName,
            String configUrl)
    {
        m_configInfo.put(configName, new PluginConfigInfo(configUrl));
    }

    public String parseResponse(String cgiResponse)
    {
        Document document     = XMLParser.parse(cgiResponse);
        Node     responseNode = getNodeByName(document, "response");
        String   error        = getNodeValueByName(responseNode, "error");

        if (error != null &amp;&amp; !error.isEmpty()) {
            return error;
        }

        Node       configListNode = getNodeByName(responseNode, "cfgs");
        List&lt;Node&gt; configNodes    = getNodesByName(configListNode, "cfg");

        for (Node configNode : configNodes) {
            String configName   = getNodeValueByName(configNode, "name");
            String configUrl = getNodeValueByName(configNode, "url");

            addConfig(configName, configUrl);
        }

        return null;
    }

    public void populateConfigListBox(ListBox lb)
    {

        for (String configName : m_configInfo.keySet()) {
            lb.addItem(configName);
        }
    }

    public Set&lt;String&gt; getConfigNames()
    {
        return m_configInfo.keySet();
    }

    public String getConfigUrl(String configName)
    {
        return m_configInfo.get(configName).m_url;
    }

    public String getEditorDefinition(String configName)
    {
        return "$[/myJob/pluginName]";
    }

    public boolean isEmpty()
    {
        return m_configInfo.isEmpty();
    }

    public void setEditorDefinition(
            String configUrl,
            String editorDefiniton)
    {
    }

    //~ Inner Classes ----------------------------------------------------------

    private class PluginConfigInfo
    {

        //~ Instance fields ----------------------------------------------------

        private String m_url;

        //~ Constructors -------------------------------------------------------

        public  PluginConfigInfo(String url)
        {
            m_url = url;
        }
    }
}
</value>
              </property>
              <property>
                <propertyName>PluginConfigListLoader.java</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>// PluginConfigListLoader.java --
//
// PluginConfigListLoader.java is part of ElectricCommander.
//
// Copyright (c) 2005-2012 Electric Cloud, Inc.
// All rights reserved.
//

package ecplugins.$[/myJob/javaName].client;

import java.util.HashMap;
import java.util.Map;

import org.jetbrains.annotations.NonNls;

import com.google.gwt.http.client.Request;
import com.google.gwt.http.client.RequestCallback;
import com.google.gwt.http.client.RequestException;
import com.google.gwt.http.client.Response;

import com.electriccloud.commander.client.ChainedCallback;
import com.electriccloud.commander.client.domain.Property;
import com.electriccloud.commander.client.requests.GetPropertyRequest;
import com.electriccloud.commander.client.responses.CommanderError;
import com.electriccloud.commander.client.responses.PropertyCallback;
import com.electriccloud.commander.client.util.StringUtil;
import com.electriccloud.commander.gwt.client.Component;
import com.electriccloud.commander.gwt.client.requests.CgiRequestProxy;

import ecinternal.client.HasErrorPanel;
import ecinternal.client.Loader;

import static ecinternal.client.InternalComponentBaseFactory.getPluginName;

public class PluginConfigListLoader
    extends Loader
{

    //~ Instance fields --------------------------------------------------------

    private final PluginConfigList m_configList;
    private final CgiRequestProxy m_cgiRequestProxy;
    private String                m_editorName;

    //~ Constructors -----------------------------------------------------------

    public PluginConfigListLoader(
            PluginConfigList configList,
            Component       component,
            ChainedCallback callback)
    {
        super(component, callback);
        m_configList      = configList;
        m_cgiRequestProxy = new CgiRequestProxy(getPluginName(), "plugin.cgi");
    }

    //~ Methods ----------------------------------------------------------------

    @Override public void load()
    {
        Map&lt;String, String&gt; cgiParams = new HashMap&lt;String, String&gt;();

        cgiParams.put("cmd", "getCfgList");
        loadConfigs(cgiParams);
    }

    @SuppressWarnings("OverlyComplexAnonymousInnerClass")
    private void loadConfigs(Map&lt;String, String&gt; cgiParams)
    {

        try {
            String request = m_cgiRequestProxy.issueGetRequest(cgiParams,
                    new RequestCallback() {
                        @Override public void onError(
                                Request   request,
                                Throwable exception)
                        {

                            // noinspection HardCodedStringLiteral
                            ((HasErrorPanel) m_component).addErrorMessage(
                                "Error loading $[/myJob/pluginName] configuration list: ",
                                exception);
                        }

                        @Override public void onResponseReceived(
                                Request  request,
                                Response response)
                        {
                            @NonNls String responseString = response.getText();

                            // if HTML returned we never made it to the CGI
                            Boolean isHtml = responseString.contains(
                                    "DOCTYPE HTML");
                            String  error;

                            if (isHtml) {
                                error = responseString;
                            }
                            else {
                                error = m_configList.parseResponse(
                                        responseString);
                            }

                            if (m_component.getLog()
                                           .isDebugEnabled()) {
                                m_component.getLog()
                                           .debug(
                                               "Received CGI response: "
                                               + responseString
                                               + " isHTML:" + isHtml
                                               + " error:" + error);
                            }

                            if (error == null) {

                                if (StringUtil.isEmpty(m_editorName)
                                        || m_configList.isEmpty()) {

                                    // We're done!
                                    if (m_callback != null) {
                                        m_callback.onComplete();
                                    }
                                }
                                else {
                                    loadEditors();
                                }
                            }
                            else {
                                ((HasErrorPanel) m_component).addErrorMessage(
                                    error);
                            }
                        }
                    });

            if (m_component.getLog()
                           .isDebugEnabled()) {
                m_component.getLog()
                           .debug("Issued CGI request: " + request);
            }
        }
        catch (RequestException e) {

            if (m_component instanceof HasErrorPanel) {

                // noinspection HardCodedStringLiteral
                ((HasErrorPanel) m_component).addErrorMessage(
                    "Error loading $[/myJob/pluginName] configuration list: ", e);
            }
            else {
                m_component.getLog()
                           .error(e);
            }
        }
    }

    private void loadEditors()
    {
        GetPropertyRequest request =
            m_requestFactory.createGetPropertyRequest();

        request.setPropertyName("/plugins/$[/myJob/pluginName]/project/ui_forms/"
                + m_editorName);
        request.setExpand(false);
        request.setCallback(new EditorLoaderCallback("plugincfg"));
        m_requestManager.doRequest(new ChainedCallback() {
                @Override public void onComplete()
                {

                    // We're done!
                    if (m_callback != null) {
                        m_callback.onComplete();
                    }
                }
            }, request);
    }

    public void setEditorName(String editorName)
    {
        m_editorName = editorName;
    }

    //~ Inner Classes ----------------------------------------------------------

    public class EditorLoaderCallback
        implements PropertyCallback
    {

        //~ Instance fields ----------------------------------------------------

        private final String m_configPlugin;

        //~ Constructors -------------------------------------------------------

        public EditorLoaderCallback(@NonNls String configPlugin)
        {
            m_configPlugin = configPlugin;
        }

        //~ Methods ------------------------------------------------------------

        @Override public void handleError(CommanderError error)
        {

            if (m_component instanceof HasErrorPanel) {
                ((HasErrorPanel) m_component).addErrorMessage(error);
            }
            else {
                m_component.getLog()
                           .error(error);
            }
        }

        @Override public void handleResponse(Property response)
        {

            if (m_component.getLog()
                           .isDebugEnabled()) {
                m_component.getLog()
                           .debug("Commander getProperty request returned: "
                               + response);
            }

            if (response != null) {
                String value = response.getValue();

                if (!StringUtil.isEmpty(value)) {
                    m_configList.setEditorDefinition(m_configPlugin, value);

                    return;
                }
            }

            // There was no property value found in the response
            @SuppressWarnings({"HardCodedStringLiteral", "StringConcatenation"})
            String errorMsg = "Editor '" + m_editorName
                    + "' not found for $[/myJob/pluginName] plugin '" + m_configPlugin
                    + "'";

            if (m_component instanceof HasErrorPanel) {
                ((HasErrorPanel) m_component).addErrorMessage(errorMsg);
            }
            else {
                m_component.getLog()
                           .error(errorMsg);
            }
        }
    }
}
</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>resources</propertyName>
            <description/>
            <propertySheet>
              <property>
                <propertyName>ConfigurationManagement.gwt.xml</propertyName>
                <description>    &lt;inherits name="ecinternal.ECInternal"/&gt;
</description>
                <expandable>1</expandable>
                <value>&lt;module&gt;
    &lt;entry-point class="ecplugins.$[/myJob/javaName].client.ConfigurationManagementFactory"/&gt;
    &lt;inherits name="com.electriccloud.commander.gwt.ComponentBase"/&gt;
&lt;!-- 
    &lt;inherits name="com.google.gwt.inject.Inject"/&gt;
--&gt;
    &lt;inherits name="ecinternal.ECInternal"/&gt;
    
    &lt;!-- The following property limits the plugin to work with Firefox.  This saves tremendously
    during development because the gwt compiler has to generate less &lt;language,browser&gt; sets of
    javascript files. Be careful to re-comment this when doing a build of your plugin that you
    plan to publish!
    &lt;set-property name="user.agent" value="gecko1_8" /&gt;
    --&gt;
    &lt;!-- Reduce JAR size by restricting locales to build: remove this if the plugin is localized --&gt;
    &lt;set-property name="locale" value="default"/&gt;
&lt;/module&gt;</value>
              </property>
              <property>
                <propertyName>ECInternal.gwt.xml</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;module&gt;
  &lt;inherits name="com.google.gwt.resources.Resources"/&gt;
  &lt;inherits name="com.google.gwt.i18n.I18N"/&gt;
  &lt;inherits name="com.google.gwt.inject.Inject"/&gt;
  &lt;inherits name="com.electriccloud.commander.gwt.ComponentBase"/&gt;
  &lt;!-- Enable SafeHTML template mode for UiBinder for safety. --&gt;
  &lt;inherits name="com.google.gwt.logging.Logging"/&gt;
  &lt;set-property name="gwt.logging.popupHandler" value="DISABLED"/&gt;
  &lt;inherits name="com.gwtplatform.mvp.Mvp"/&gt;

  &lt;define-configuration-property
    name="gin.ginjector"
    is-multi-valued="false"/&gt;
  &lt;set-configuration-property
    name="gin.ginjector"
    value="ecinternal.client.gin.CommanderGinjector"/&gt;

  &lt;extend-property name="locale" values="ja,ko,zh"/&gt;
&lt;/module&gt;
</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>ui_forms</propertyName>
            <description/>
            <propertySheet>
              <property>
                <propertyName>createConfigForm</propertyName>
                <description>Form to create new configuration</description>
                <expandable>1</expandable>
                <value>&lt;editor&gt;
    &lt;formElement&gt;
        &lt;type&gt;entry&lt;/type&gt;
        &lt;label&gt;Configuration Name:&lt;/label&gt;
        &lt;property&gt;config&lt;/property&gt;
        &lt;value&gt;&lt;/value&gt;
        &lt;required&gt;1&lt;/required&gt;
    &lt;/formElement&gt;
    &lt;formElement&gt;
        &lt;type&gt;credential&lt;/type&gt;
        &lt;label&gt;Login as:&lt;/label&gt;
        &lt;property&gt;credential&lt;/property&gt;
        &lt;value&gt;&lt;/value&gt;
        &lt;required&gt;0&lt;/required&gt;
    &lt;/formElement&gt;
&lt;/editor&gt;</value>
              </property>
              <property>
                <propertyName>editConfigForm</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;editor&gt;
        &lt;formElement&gt;
        &lt;type&gt;credential&lt;/type&gt;
        &lt;label&gt;Login as:&lt;/label&gt;
        &lt;property&gt;credential&lt;/property&gt;
        &lt;value&gt;&lt;/value&gt;
        &lt;required&gt;0&lt;/required&gt;
    &lt;/formElement&gt;
&lt;/editor&gt;</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>performances</propertyName>
        <description>A property sheet for performance diagnostic</description>
        <propertySheet>
          <property>
            <propertyName>CORE</propertyName>
            <description>Tests for number of cores</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt; 4</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt; 6</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;=6</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>CPU</propertyName>
            <description>Tests for CPU speed</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt; 1.5</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt; 2</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;= 2.0</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>DBPERF</propertyName>
            <description>Test for Database Performance</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt; .10</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;.07</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt;= .07</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>DISKREAD</propertyName>
            <description>Tests for Disk Reading Performance</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt; 2</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt;5</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;=5</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>DISKWRITE</propertyName>
            <description>Tests for Disk Writing Performance</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt; 2</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt;5</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt;=5</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>PERF</propertyName>
            <description>Test for ping times to resources</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt; 10</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt; 5</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt;=5</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>PING</propertyName>
            <description>Test for ping times to resources</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt; 2</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&lt; 1</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description/>
                <expandable>1</expandable>
                <value>&gt;=1</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>RAM</propertyName>
            <description>Test for RAM amount</description>
            <propertySheet>
              <property>
                <propertyName>BAD</propertyName>
                <description>Value below 4 GB is bad</description>
                <expandable>1</expandable>
                <value>&lt; 4</value>
              </property>
              <property>
                <propertyName>BEST</propertyName>
                <description>Anything over 8GB is perfect</description>
                <expandable>1</expandable>
                <value>&gt; 8</value>
              </property>
              <property>
                <propertyName>GOOD</propertyName>
                <description>RAM between 4GB and 8GB is acceptable</description>
                <expandable>1</expandable>
                <value>&lt;= 8</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>scripts</propertyName>
            <description>perl Library</description>
            <propertySheet>
              <property>
                <propertyName>perf.pm</propertyName>
                <description>checkvalue(PERF, value): test the value against BAD, GOOD and BEST logic tests for PERF test (in /myProject/performances/PERF)

</description>
                <expandable>1</expandable>
                <value>$[/myProject/scripts/perlHeader]
$[/myProject/scripts/perlLib]

sub checkValue
{
  my $test=shift;            # the test to perform
  my $value=shift;         # the value to test
  my $summary=shift;   # the summary to display on the job page

  printf("Value to test: %s\n", $value) if ($DEBUG);
  printf("Checking Performance for %s: ", $test);
 
  InvokeCommander("SuppressLog", "setProperty", "summary", $summary);
  if (eval $value .  getP("/myProject/performances/$test/BAD")) {
    printf("BAD\n");
    InvokeCommander("SuppressLog", "setProperty", "outcome", "warning");
    return -1;
  } elsif (eval $value . getP("/myProject/performances/$test/GOOD")) {
    printf("GOOD\n");
    return 0;
  } elsif(eval $value . getP("/myProject/performances/$test/BEST")) {
    printf("BEST\n");
    return +1;
  } else {
    printf ("\nTest for %s does not resolve. Verify your values in the performances property sheet\n", $test);
    exit (2);
  }
}</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>scripts</propertyName>
        <description>A list of Perl helpers</description>
        <propertySheet>
          <property>
            <propertyName>backup</propertyName>
            <description>properties for saveAllObjects</description>
            <propertySheet>
              <property>
                <propertyName>safeFileName</propertyName>
                <description>Make the name of an object safe to be a file or directory name
</description>
                <expandable>1</expandable>
                <value>PLACEHOLDER</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>licenseLogger</propertyName>
            <description/>
            <propertySheet>
              <property>
                <propertyName>jobCleanup.pl</propertyName>
                <description>Perl script to clean up old jobs</description>
                <expandable>1</expandable>
                <value>PLACEHOLDER</value>
              </property>
            </propertySheet>
          </property>
          <property>
            <propertyName>compareVersion</propertyName>
            <description>a function to compare artifact version strings in the form of x.y.z.... and deals with numerical comparison vs. string comparison:
  10 &gt; 9 
but
  "10" le "9" </description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>deleteWorkspace</propertyName>
            <description>a bit of code used in 2 different locations:
  jobsCleanup
  subJC_deleteWorkspace</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>getDirSize</propertyName>
            <description/>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>getP</propertyName>
            <description>a simple getProperty call. Return undef in case of error</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>humanSize</propertyName>
            <description>return a disk/file size into a human readable string</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>jobTemplate</propertyName>
            <description/>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>perlCommonLib</propertyName>
            <description/>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>perlHeader</propertyName>
            <description>default Perl Header to use the API</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>perlHeaderJSON</propertyName>
            <description>default Perl Header to use the API with JSON format</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>perlLib</propertyName>
            <description>Perl Libraries for:
 - InvokeCommander: Run an ElectricCommander function using the Perl API
 - getPS: return a Hash for porperties contained in a PropertySheet
#-------------------------------------------------------------------------
# Run an ElectricCommander function using the Perl API
#
# Params
# optionFlags - "AllowLog" or "SuppressLog" or "SuppressResult"
# combined with "IgnoreError"
# commanderFunction
# Variable Parameters
# The parameters required by the ElectricCommander function
# according to the Perl API. See the ElectricCommander
# Help system for more information.
# (the functions and paramenter are based on "ectool" - run it for documentation)
#
# Returns
# success - 1 if no error was detected
# xPath - an XML::XPath object with the result.
# errMsg - a message string extracted from Commander on error
# errCode - the code part &lt;code&gt; of the XML
#-------------------------------------------------------------------------</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
          <property>
            <propertyName>perlLibJSON</propertyName>
            <description>Perl Libraries (JSON Format) for:
 - InvokeCommander: Run an ElectricCommander function using the Perl API
 - getPS: return a Hash for porperties contained in a PropertySheet

#-------------------------------------------------------------------------
# Run an ElectricCommander function using the Perl API
#
# Params
# optionFlags - "AllowLog" or "SuppressLog" or "SuppressResult"
# combined with "IgnoreError"
# commanderFunction
# Variable Parameters
# The parameters required by the ElectricCommander function
# according to the Perl API. See the ElectricCommander
# Help system for more information.
# (the functions and paramenter are based on "ectool" - run it for documentation)
#
# Returns
# success - 1 if no error was detected
# xPath - an XML::XPath object with the result.
# errMsg - a message string extracted from Commander on error
# errCode - the code part &lt;code&gt; of the XML
#-------------------------------------------------------------------------</description>
            <expandable>1</expandable>
            <value>PLACEHOLDER</value>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_visibility</propertyName>
        <expandable>1</expandable>
        <value>pickListOnly</value>
      </property>
      <property>
        <propertyName>filesToCopy</propertyName>
        <description>A list of extra files and directories to add to the plugin</description>
        <expandable>1</expandable>
        <value>lib/*.jar,lib5/*.jar</value>
      </property>
      <property>
        <propertyName>help</propertyName>
        <description>Help page for the plugin version</description>
        <expandable>1</expandable>
        <value>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
	&lt;meta content="text/html; charset=us-ascii" http-equiv="content-type" /&gt;
	&lt;title&gt;EC-Admin Plugin&lt;/title&gt;
    &lt;link rel="stylesheet" href= "../../plugins/@PLUGIN_NAME@/pluginhelp.css" type="text/css" media= "screen" /&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="help"&gt;
		&lt;h1&gt;EC-Admin&lt;/h1&gt;
		&lt;p&gt;Plugin Version @PLUGIN_VERSION@&lt;/p&gt;
    	&lt;hr style="margin-left: -10px; margin-top: 10px; height: 1px; width: 100%; color: #5981BD;" noshade="noshade" /&gt;

        &lt;p&gt;EC-Admin is a collection of administrative procedures to help you
manage your server. Its inception was sparked by requests from customers
during my Professional Services engagements. It has grown over the years to
what it is now.&lt;/p&gt;

&lt;h2&gt;&lt;a name="installation"&gt;&lt;/a&gt;Installation&lt;/h2&gt;

    &lt;p&gt;This collection of procedures can be found on our
      &lt;a href="https://github.com/electriccommunity/EC-Admin"&gt;GitHub
        repository&lt;/a&gt;. It is available as a plugin delivered
      in the form of a .jar file or you can simply get the source code
      and recompile it yourself.&lt;/p&gt;

&lt;p&gt;To install the plugin, use one the following methods:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;the "Install from File/URL" tab in the administration/Plugins&lt;/li&gt;
  &lt;li&gt;the Perl "$ec-&gt;installPlugin()" API.&lt;/li&gt;
  &lt;li&gt; the CLI client "ectool installPlugin --force 1 EC-Admin.jar&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Don't forget to promote the plugin after installation.&lt;/p&gt;

&lt;p&gt;To install on 4.0.x or or 4.1.x, import the EC_4.0.xml file. Be
  aware that some features are not present as the original project
  makes use of createJobStep() API which was introduced in 4.2.0:&lt;br/&gt;
ectool import /path_to/EC-Admin_for_EC_4.0.xml --disableSchedules 1&lt;/p&gt;

&lt;h2&gt;Content&lt;/h2&gt;

		&lt;p&gt;It contains the following modules:&lt;/p&gt;
		&lt;ul&gt;
      &lt;li&gt;&lt;a href="#health"&gt;System Health&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;agentMemoryConfiguration&lt;/li&gt;
          &lt;li&gt;testResources&lt;/li&gt;
          &lt;li&gt;performanceMetrics&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#look"&gt;Look and Feel&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;changeBannerColor&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#jobs"&gt;Jobs and Workspaces management&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;jobsCleanup&lt;/li&gt;
          &lt;li&gt;jobsCleanup_byResult&lt;/li&gt;
          &lt;li&gt;deleteWorkspaceOrphans&lt;/li&gt;
          &lt;li&gt;deleteObjects&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#plugin"&gt;Plugins&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;synchronizePlugins&lt;/li&gt;
          &lt;li&gt;createPluginFromProject (deprecated)&lt;/li&gt;
          &lt;li&gt;projectAsCode&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#artifacts"&gt;Artifacts management&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;artifactRepositorySynchronization&lt;/li&gt;
          &lt;li&gt;artifactsCleanup&lt;/li&gt;
          &lt;li&gt;artifactsCleanup_byQuantity&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#backup"&gt;Object export backup and restore&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;saveProjects&lt;/li&gt;
          &lt;li&gt;saveAllObjects&lt;/li&gt;
          &lt;li&gt;restoreObjects&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#schedules"&gt;Schedules&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;schedulesDisable&lt;/li&gt;
          &lt;li&gt;schedulesEnable&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#semaphore"&gt;Semaphore management&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;acquireSemaphore&lt;/li&gt;
          &lt;li&gt;releaseSemaphore&lt;/li&gt;
        &lt;/ul&gt;

			&lt;li&gt;&lt;a href="#license"&gt;License Logger&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="#postp"&gt;postp debugger helper&lt;/a&gt;&lt;/li&gt;
			&lt;li&gt;&lt;a href="#comm"&gt;Communication&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#misc"&gt;miscellaneous&lt;/a&gt;&lt;/li&gt;
        &lt;ul&gt;
          &lt;li&gt;findJobId&lt;/li&gt;
        &lt;/ul&gt;

		&lt;/ul&gt;


	  &lt;p&gt;IMPORTANT: For all parameter descriptions below, required
	    parameters are shown in &lt;span class="required"&gt;bold italics&lt;/span&gt;.&lt;/p&gt;

    &lt;h1&gt;&lt;a name="health"&gt;&lt;/a&gt;System Health&lt;/h1&gt;
    &lt;h2&gt;agentMemoryConfiguration&lt;/h2&gt;
    &lt;p&gt;This procedure allows you to change the Java heap memory setting of your
      agents. Electric Cloud support recommend increasing the default for agents
      with a heavier load like the repository server agent, gateway agent and
      web server agent.&lt;/p&gt;
      &lt;table class="grid"&gt;
        &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
        &lt;tbody&gt;
          &lt;tr&gt;
            &lt;td class='required'&gt;agent&lt;/td&gt;
            &lt;td&gt;The name of the resource on which the agent is located.&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td class='required'&gt;init memory&lt;/td&gt;
            &lt;td&gt;The amount of init memory to assign to the Java heap. It can be
                indicated in Mb or as a % of the toal memory.&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td class='required'&gt;max memory&lt;/td&gt;
            &lt;td&gt;The maximum amount of memory to assign to the Java heap. It can be
                indicated in Mb or as a % of the toal memory.&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;restartAgent&lt;/td&gt;
            &lt;td&gt;On Linux the agent service is restarted, on Windows the box is
              rebooted.&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;

    &lt;h2&gt;testResources&lt;/h2&gt;
    &lt;p&gt;This procedure is simply to test connection to all your resources or a
      specific pool. This will create simple step to run an echo command on
      alive resources.&lt;/p&gt;
    &lt;table class="grid"&gt;
      &lt;thead&gt;
        &lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;pool&lt;/td&gt;
          &lt;td&gt;Name of a pool. If empty, all resources will be tested&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;

    &lt;h2&gt;&lt;a name="perf"&gt;&lt;/a&gt;performanceMetrics&lt;/h2&gt;
		&lt;p&gt;This procedure returns some information about your
			ElectricCommander server like number of processors, total RAM,
			available RAM,
ping times with agents, relative performance of agents, ...
In addition it checks the amount of time spent running steps on the server
local agents as this should be minimized as much as possible.&lt;/p&gt;

		&lt;h1&gt;&lt;a name="look"&gt;&lt;/a&gt;Look and Feel&lt;/h1&gt;
		&lt;h2&gt;changeBannerColor&lt;/h2&gt;
		&lt;p&gt;If you work on multiple Commander servers like a development and a
			production instances, this procedure is for you. It allows you to change the color of the top banner and the logo to make it easier to identify your different servers. Feel free
			to &lt;a href="mailto:lrochette@electric-cloud.com"&gt;send me&lt;/a&gt; new ones if you have a more artistic touch than me. Or better
			push your changes to
			&lt;a href="https://github.com/electriccommunity/EC-Admin"&gt;GitHub&lt;/a&gt;.&lt;/p&gt;

		&lt;table class="grid"&gt;
		  &lt;thead&gt;
		    &lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;
		  &lt;/thead&gt;
		  &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td class='required'&gt;color&lt;/td&gt;
          &lt;td&gt;Choose a color for your top banner&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;logo&lt;/td&gt;
          &lt;td&gt;Choose a set of pre-rendered logo to indicate
	if you server is of type DEV, SDK, TEST or PROD, in black or white to
	go along different background colors.&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;logoFile&lt;/td&gt;
          &lt;td&gt;The path on the Commander server to upload your own logo. If this value is not blank it will overwritten the logo parameter above.&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;webResource&lt;/td&gt;
          &lt;td&gt;The name of the resource running on your webserver to allow the copy of the logo and banner color files.&lt;/td&gt;
        &lt;/tr&gt;
		  &lt;/tbody&gt;
		&lt;/table&gt;
		    &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; if you run your server and agent as different user (as recommended), the agent won't be able to modify the following files:&lt;/p&gt;
		    &lt;ul&gt;
		    	&lt;li&gt;INSTALL_DIR/apache/htdocs/commander/images/logo.gif&lt;/li&gt;
		    	&lt;li&gt;INSTALL_DIR/apache/htdocs/commander/lib/images/frame_bannerBg.gif (version 4.x and later)&lt;/li&gt;
		    	&lt;li&gt;INSTALL_DIR/apache/htdocs/commander/lib/styles/StdFrame.css (version 5.4 )&lt;/li&gt;
		    	&lt;li&gt;INSTALL_DIR/apache/htdocs/commander/styles/StdFrame.css (version 6.0 and later)&lt;/li&gt;
		    &lt;/ul&gt;
		    &lt;p&gt;Those file permissions need to be opened so the agent user can modify them.&lt;/p&gt;

			&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/changeBannerColor.png"
				 alt="changeBannerColor parameters" /&gt;
			&lt;p&gt;will produce&lt;/p&gt;
			&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/RedDev.png"
				 alt="Red DEV example" /&gt;


		&lt;h1&gt;&lt;a name="jobs"&gt;&lt;/a&gt;Jobs and Workspaces management&lt;/h1&gt;
		&lt;p&gt;This set of procedures will help you manage your old jobs and the
			associated workspaces.&lt;/p&gt;

		&lt;h2&gt;jobsCleanup:&lt;/h2&gt;
		&lt;p&gt;A procedure to delete jobs older than a specified number of
days. It will also delete associated workspace job directories.&lt;/p&gt;

    &lt;table class="grid"&gt;
		  &lt;thead&gt;
        &lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;
      &lt;/thead&gt;
        &lt;tbody&gt;
          &lt;tr&gt;
              &lt;td class='required'&gt;olderThan&lt;/td&gt;
              &lt;td&gt;Indicate the number of days after which jobs are deleted&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td class='required'&gt;jobType&lt;/td&gt;
              &lt;td&gt;Define what jobs should be deleted: Error, Warning or all.&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td&gt;jobProperty&lt;/td&gt;
              &lt;td&gt;Name of a property attached to your jobs. If this property is set, your job won't be deleted no matter how old it is.&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td&gt;jobPatternMatching&lt;/td&gt;
              &lt;td&gt;A SQL pattern matching to automatically preserve some jobs. The pattern must solve for a LIKE statement.&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td class='required'&gt;delete&lt;/td&gt;
              &lt;td&gt;If this option is not set, only report is done. No real data are deleted&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td class='required'&gt;computeUsage&lt;/td&gt;
              &lt;td&gt;Check off to skip the computation of the number of steps and the file space used for the job. This will speed up the execution.&lt;/td&gt;
          &lt;/tr&gt;
		    &lt;/tbody&gt;
		  &lt;/table&gt;

			&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/jobsCleanup.png"
				 alt="jobsCleanup parameters" /&gt;

			&lt;h2&gt;jobCleanup_byResult:&lt;/h2&gt;
            &lt;p&gt;A procedure to delete jobs older than a specified number of days.
It will also delete associated workspace job directories. It will keep the
number of successful, failed and warning jobs you entered. You can also
provide a property name, if this property is attached to the job, it won't be
deleted no matter how old. A report only mode prevents any real deletion.&lt;/p&gt;

			&lt;h2&gt;deleteWorksapceOrphans:&lt;/h2&gt;

            &lt;p&gt;A procedure to crawl a workspace directory to find orphan jobs
(directories without a matching job) on a specified resource.&lt;/p&gt;

			&lt;h2&gt;deleteObjects:&lt;/h2&gt;
            &lt;p&gt;A procedure to quickly delete jobs or workflows older than a
specified number of days. It will &lt;b&gt;not&lt;/b&gt; delete associated workspace job
directories. This is for customers with huge job or workflow database.&lt;/p&gt;


		&lt;h1&gt;&lt;a name="plugin"&gt;&lt;/a&gt;Plugins&lt;/h1&gt;
		&lt;h2&gt;Plugin Synchronization&lt;/h2&gt;
		&lt;p&gt;This procedure synchronizes plugins between the server and
		a resource. Plugins are uploaded first as artifacts if it has not been
		done already and then downloaded on the resource if it does not
		already exist in the plugins directory.&lt;/p&gt;

		&lt;h2&gt;Plugin creation&lt;/h2&gt;
		&lt;h3&gt;createPluginFromProject&lt;/h3&gt;
		&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This procedure requires access to the jar or zip
			executable in the PATH.&lt;/p&gt;
		&lt;p&gt;The procedure "createPluginFromProject" allows the transformation of a
			project into a plugin. The parameters are the following:&lt;/p&gt;
		    &lt;table class="grid"&gt;
		        &lt;thead&gt;
		            &lt;tr&gt;
		                &lt;th&gt;Parameter&lt;/th&gt;
		                &lt;th&gt;Description&lt;/th&gt;
		            &lt;/tr&gt;
		        &lt;/thead&gt;

		        &lt;tbody&gt;
					&lt;tr&gt;
			        	&lt;td class='required'&gt;Project&lt;/td&gt;
						&lt;td&gt;The name of the project to transform into a plugin&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Plugin&lt;/td&gt;
						&lt;td&gt;The name of the plugin. If left empty, it will default to
					the project name.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Category&lt;/td&gt;
						&lt;td&gt;The category of the plugin. It helps filter the plugin list in
					the Plugins page and in the picker list.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td  class='required'&gt;Version&lt;/td&gt;
						&lt;td&gt;Version of the plugin to create. A build number is automatically
							added (after incrementation) to ensure uniq version numbers.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Description&lt;/td&gt;
						&lt;td&gt;The description of the plugin to display in the main
						plugin page. If left empty it will default to the
						description of the project.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Author&lt;/td&gt;
						&lt;td&gt;Name of he author of the project to transform into a plugin.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Email&lt;/td&gt;
						&lt;td&gt;The email of the author.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Comment&lt;/td&gt;
						&lt;td&gt;if this parameter is not empty, it will be added to the CHANGELOG for traceability.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;fixSelfReferences&lt;/td&gt;
						&lt;td&gt;Replace self references to the project in sub-prceodure calls by an empty string to be sure the plugins= created will not call the original project instead of itself.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;createArtifact&lt;/td&gt;
						&lt;td&gt;Save the new created plugin as an artifact version.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;installPlugin&lt;/td&gt;
						&lt;td&gt;A Boolean to install or not the plugin after creation&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;promotePlugin&lt;/td&gt;
						&lt;td&gt;A Boolean to promote or not the plugin after installation&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;moveJobs&lt;/td&gt;
						&lt;td&gt;A Boolean to move or not jobs from the previous
							version into the current one upon promotion.&lt;/td&gt;
		            &lt;/tr&gt;
		        &lt;/tbody&gt;
		    &lt;/table&gt;

			&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/createPluginFromProject.png"
				 alt="createPluginFromProject parameters" /&gt;

		&lt;p&gt;At the project level, you can define the following properties to
			alter the behavior of the plugin creation:&lt;/p&gt;
			&lt;dl&gt;
				&lt;dt&gt;&lt;b&gt;ec_visibility:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;Choose &lt;b&gt;all&lt;/b&gt; to have the plugin shows in the project
					list (like EC-Admin), or &lt;b&gt;pickListOnly&lt;/b&gt; (default) to
					have your procedures available only through the plugin
					procedure picker (when you choose plugin as a step).&lt;/dd&gt;
				&lt;dt&gt;&lt;b&gt;help:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;This property allows you to create a Help page associated
					with your plugin. The page you are currently reading is
					created this way so feel free to explore the help property
					 in the EC-Admin plugin/project for an example.&lt;/dd&gt;
				&lt;dt&gt;&lt;b&gt;promoteAction&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;This property would contain some Perl code to take action
					when the plugin change state. Look at the ec_setup property
					in the plugins installed on your system to get a better idea
					of what you can accomplish.&lt;br/&gt;
					For example to set a property hwne the plugin is pomoted
					you could add the the following code to the promoteAction
					procedure:&lt;br/&gt;
					&lt;pre&gt;&lt;code&gt;
if ( $promoteAction eq 'promote' ) {
    $batch-&gt;setProperty( "/projects/$pluginName/addedByPromote", "123" );
}
					&lt;/code&gt;&lt;/pre&gt;
				&lt;/dd&gt;
			&lt;/dl&gt;
		&lt;p&gt;In addition each procedure can modify the behavior with the
			following 2 properties:&lt;/p&gt;
			&lt;dl&gt;
				&lt;dt&gt;&lt;b&gt;exposeToPlugin:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;This property if set to 1 will add the procedure to
					ec_setup to be shown in the procedure picker list when
					choosing a plugin step.&lt;/dd&gt;
				&lt;dt&gt;&lt;b&gt;descriptionForPlugin:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;This property will be shown as the description in the
					picker list mentioned above. If it's empty or non-existent,
					 the description will be description of the procedure
					 itself.&lt;/dd&gt;
			&lt;/dl&gt;

		&lt;h3&gt;projectAsCode&lt;/h3&gt;

		&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This procedure requires access to a resource with the
			Commander SDK installed.&lt;/p&gt;

		&lt;p&gt;This procedure is an extension of createPluginFromProject. It also
		creates a plugin but instead of simply exporting the project, it
		"explodes" each step in its own file for finer granularity check in
		in your favorite SCM tool.&lt;br/&gt;You can also add automatically a
		mechanism to add credential/configuration management to you plugin.&lt;br/&gt;
		All the properties associated with createPluginFromProject still
		apply.&lt;/p&gt;

		    &lt;table class="grid"&gt;
		        &lt;thead&gt;
		            &lt;tr&gt;
		                &lt;th&gt;Parameter&lt;/th&gt;
		                &lt;th&gt;Description&lt;/th&gt;
		            &lt;/tr&gt;
		        &lt;/thead&gt;

		        &lt;tbody&gt;
					&lt;tr&gt;
			        	&lt;td class='required'&gt;Project&lt;/td&gt;
						&lt;td&gt;The name of the project to transform into a plugin&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Plugin&lt;/td&gt;
						&lt;td&gt;The name of the plugin. If left empty, it will default to
					the project name.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Category&lt;/td&gt;
						&lt;td&gt;The category of the plugin. It helps filter the plugin list in
					the Plugins page and in the picker list.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td  class='required'&gt;Version&lt;/td&gt;
						&lt;td&gt;Version of the plugin to create. A build number is automatically
							added (after incrementation) to ensure uniq version numbers.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Description&lt;/td&gt;
						&lt;td&gt;The description of the plugin to display in the main
						plugin page. If left empty it will default to the
						description of the project.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Author&lt;/td&gt;
						&lt;td&gt;Name of he author of the project to transform into a plugin.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Email&lt;/td&gt;
						&lt;td&gt;The email of the author.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Comment&lt;/td&gt;
						&lt;td&gt;if this parameter is not empty, it will be added to the CHANGELOG for traceabiity.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;Directory&lt;/td&gt;
						&lt;td&gt;The name of the directory where to create the complete file structure. Typically a directory you will check in in your SCM.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;SDK resource&lt;/td&gt;
						&lt;td&gt;The name of an agent where the Commander SDK is installed. Required to build the plugin.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;SDK Location&lt;/td&gt;
						&lt;td&gt;The path where the Commander SDK is installed on the above resources..&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;fixSelfReferences&lt;/td&gt;
						&lt;td&gt;Replace self references to the project in sub-prceodure calls by an empty string to be sure the plugins= created will not call the original project instead of itself.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;overwrite&lt;/td&gt;
						&lt;td&gt;if the ec_setup.pl already exists, it is not overwritten. Check this parameter overwrite with a content dynamically generated based on project properties.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;disableCleanup&lt;/td&gt;
						&lt;td&gt;Prevents the exported project file to be deleted. It can be an issue when  the agent and server run as different users.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;projectAsCode&lt;/td&gt;
						&lt;td&gt;Include a bit of code to revert the plugin to a
							project upon promotion if this option is checked.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;createArtifact&lt;/td&gt;
						&lt;td&gt;Save the new created plugin as an artifact version.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;installPlugin&lt;/td&gt;
						&lt;td&gt;A Boolean to install or not the plugin after creation&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;promotePlugin&lt;/td&gt;
						&lt;td&gt;A Boolean to promote or not the plugin after installation&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td&gt;moveJobs&lt;/td&gt;
						&lt;td&gt;A Boolean to move or not jobs from the previous
							version into the current one upon promotion.&lt;/td&gt;
		            &lt;/tr&gt;
		        &lt;/tbody&gt;
		    &lt;/table&gt;

			&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/projectAsCode.png"
				 alt="projectAsCode parameters" /&gt;

		&lt;p&gt;At the project level, you can define the addtional following properties to alter the behavior of the plugin creation:&lt;/p&gt;
			&lt;dl&gt;
				&lt;dt&gt;&lt;b&gt;configureCredentials:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;this property will indicate to EC-Admin to code to help create configuration to manage credentials for your plugin. It adds:
					&lt;ul&gt;
						&lt;li&gt;A procedure name "createConfiguration". You need to modify the code of the step "createAndAttachCredential" in order to reference your own procedures and steps where you want to attach those credentials.&lt;/li&gt;
						&lt;li&gt;Some cgi-bin scripts.&lt;/li&gt;
						&lt;li&gt;Some java code to manage the different UI to create, edit and delete configurations.&lt;/li&gt;
						&lt;li&gt;A "configure" link for your plugin on the pluginManager page.&lt;/li&gt;
					&lt;/ul&gt;
				Once the procedures and steps have been created, they will not be overwritten so it's safe to modify them to acoomodate your own needs.
				&lt;/dd&gt;

				&lt;dt&gt;&lt;b&gt;filesToCopy:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;This property will indicate to the ant plugin builder to add files and directories to your jar file. It will create an entry for the filesToCopy.extras in your build.xml. For example, EC-Admin includes lib/*.jar that is used to manage the configurations required for the credentials.&lt;/dd&gt;
				&lt;dt&gt;&lt;b&gt;pluginDependencies:&lt;/b&gt;&lt;/dt&gt;
				&lt;dd&gt;This property allows you to add plugin dependencies that need to be satisfied before you ca install the plugin. Put a a line per dependency with each line being PLUGIN:VERSION&lt;/dd&gt;
			&lt;/dl&gt;

		&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; EC-Admin is released on
		&lt;a href="https://github.com/electriccommunity/EC-Admin"&gt;GitHub&lt;/a&gt; using
		this procedure.&lt;/p&gt;

		&lt;h1&gt;&lt;a name="artifacts"&gt;&lt;/a&gt;Artifact Management&lt;/h1&gt;

		&lt;h2&gt;artifactRepositorySynchronization&lt;/h2&gt;

		&lt;p&gt;Synchronize the content of a source artifact repositories to a target
		one. You can use pattern matching to select specific artifact
		versions to synchronize.&lt;/p&gt;

    &lt;table class="grid"&gt;
      &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
       &lt;tbody&gt;
         &lt;tr&gt;
           &lt;td class='required'&gt;Source Artifact Repository&lt;/td&gt;
           &lt;td&gt;The name of the artifact repository from which to synchronize.&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
           &lt;td class='required'&gt;Target Artifact Repository&lt;/td&gt;
           &lt;td&gt;The name of the artifact repository to which to synchronize.&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
           &lt;td class='required'&gt;Synchronization Resource&lt;/td&gt;
           &lt;td&gt;The name of a resource used as a buffer to download/upload the files.&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
           &lt;td&gt;Artifact Version Pattern&lt;/td&gt;
           &lt;td&gt;Pattern of artifact version to sync. Examples:&lt;br/&gt;
             MyGrp:MyKey:* (all artifact versions with group MyGrp and key MyKey),&lt;br/&gt;
             MyGrp:* (all artifact versions with group MyGrp),&lt;br/&gt;
             * (all artifact versions. This is the default).&lt;/td&gt;
         &lt;/tr&gt;
         &lt;tr&gt;
           &lt;td&gt;Batch Size&lt;/td&gt;
           &lt;td&gt;Number of artifact version to process at once. A high number
             could overwhelm your gateways.&lt;/td&gt;
         &lt;/tr&gt;
       &lt;/tbody&gt;
   &lt;/table&gt;

   &lt;img src="../../plugins/@PLUGIN_KEY@/images/help/artifactRepositorySynchronization.png"
        alt="artifactRepositorySynchronization parameters" /&gt;

		&lt;h2&gt;artifactsCleanup&lt;/h2&gt;

		&lt;p&gt;A procedure to delete artifact versions older than a specified number
of days. Same as for jobs above, a property allows preventing the deletion. Once the
artifacts have been deleted, artifact repositories and artifact caches are
cleaned as well (deleting stale artifacts).  A report mode prevents any
real deletion.&lt;/p&gt;

		&lt;h2&gt;artifactsCleanup_byQuantity&lt;/h2&gt;

		&lt;p&gt;As "ArtifactsCleanup"", this procedure deletes artifact versions
			older than a specified number
of days but keeps only X per Artifact. Again, a property allows preventing the
deletion. Once the
artifacts have been deleted, artifact repositories and artifact caches are
cleaned as well (deleting stale artifacts).  A report only mode prevents any
real deletion.&lt;/p&gt;

		&lt;h1&gt;&lt;a name="backup"&gt;&lt;/a&gt;Object export and backup&lt;/h1&gt;

        &lt;p&gt;This set of procedures is to help you export objects from
ElectricCommander for a potential inclusion into your SCM for
versioning.&lt;/p&gt;

		&lt;h2&gt;saveProjects&lt;/h2&gt;

        &lt;p&gt;This procedure simply exports your projects in a directory on the
server. It is recommended to enable the nightly schedule associated
with it to backup your projects on a regular basis.&lt;/p&gt;

		&lt;h2&gt;saveAllObjects&lt;/h2&gt;

    &lt;p&gt;This procedure brings a finer granularity to a full server export.
For  example, it may be easier to retrieve a simple project or procedure
instead of the full server export or database backup to undo a wrong action
or a bad code change. By  default it exports projects and each procedure
individually. In addition by enabling the matching checkboxes, you can also
export resources,  resource pools, workspaces, users and groups, and with 5.x
and later ElectricFlow Deploy objects (Applications, Components and
Environments). It is recommended to enable the nightly schedule associated
with it to backup your projects on a regular basis.&lt;/p&gt;

		&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; Use saveProjects or saveAllObjects depending on the
		granularity you are requiring.&lt;/p&gt;

    &lt;table class="grid"&gt;
      &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
       &lt;tbody&gt;
           &lt;tr&gt;
               &lt;td class='required'&gt;directory&lt;/td&gt;
               &lt;td&gt;The directory where to save the .xml files.&lt;/td&gt;
           &lt;/tr&gt;
           &lt;tr&gt;
               &lt;td&gt;Pattern&lt;/td&gt;
               &lt;td&gt;A Perl regular expression to filter the objects to export.
                 For example "^B" indicates all object starting with a "B"&lt;/td&gt;
           &lt;/tr&gt;
           &lt;tr&gt;
               &lt;td&gt;checkboxes&lt;/td&gt;
               &lt;td&gt;A checbox to enable export of the different kinds of objects.&lt;/td&gt;
           &lt;/tr&gt;
       &lt;/tbody&gt;
   &lt;/table&gt;

    &lt;h2&gt;restoreObjects&lt;/h2&gt;
    &lt;p&gt;This procedure allows you to import all the .xml files in a directory.
      Typically those have been created with saveAllObjects above.&lt;/p&gt;

    &lt;table class="grid"&gt;
      &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
       &lt;tbody&gt;
           &lt;tr&gt;
               &lt;td class='required'&gt;directory&lt;/td&gt;
               &lt;td&gt;The directory where the .xml files are located.&lt;/td&gt;
           &lt;/tr&gt;
           &lt;tr&gt;
               &lt;td&gt;force&lt;/td&gt;
               &lt;td&gt;A boolean to pass the --force 1 option to import.&lt;/td&gt;
           &lt;/tr&gt;
           &lt;tr&gt;
               &lt;td&gt;resource&lt;/td&gt;
               &lt;td&gt;The resource on which to read the files.&lt;/td&gt;
           &lt;/tr&gt;
       &lt;/tbody&gt;
   &lt;/table&gt;

		&lt;h1&gt;&lt;a name="schedules"&gt;&lt;/a&gt;Schedules&lt;/h1&gt;
		&lt;p&gt;This set of procedures is to help around schedule enabling and disabling which is very useful when you want to perform maintenace on your server.&lt;/p&gt;

		&lt;h2&gt;schedulesDisable&lt;/h2&gt;
		&lt;p&gt;This procedure disables all the enabled schedules and optionaly saves the list in a property.&lt;/p&gt;

		 &lt;table class="grid"&gt;
       &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
		    &lt;tbody&gt;
		        &lt;tr&gt;
		            &lt;td class='required'&gt;Disable&lt;/td&gt;
		            &lt;td&gt;If this option is not set, only report is done. No schedules are disabled.&lt;/td&gt;
		        &lt;/tr&gt;
		        &lt;tr&gt;
		            &lt;td&gt;Schedule list property&lt;/td&gt;
		            &lt;td&gt;Property path used by the step to save the list of schedules disabled. Can be used by schedulesEnable.&lt;/td&gt;
		        &lt;/tr&gt;
		    &lt;/tbody&gt;
		&lt;/table&gt;

		&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/schedulesDisableParameters.png"
				 alt="schedulesDisable parameters" /&gt;

		&lt;h2&gt;schedulesEnable&lt;/h2&gt;
		&lt;p&gt;This procedure enables schedules passed as a list in a property, typically saved by schedulesDisable.&lt;/p&gt;

		 &lt;table class="grid"&gt;
		    &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
		    &lt;tbody&gt;
		        &lt;tr&gt;
		            &lt;td class='required'&gt;Enable&lt;/td&gt;
		            &lt;td&gt;If this option is not set, only report is done. No schedules are enabled.&lt;/td&gt;
		        &lt;/tr&gt;
		        &lt;tr&gt;
		            &lt;td class='required'&gt;Schedule list property&lt;/td&gt;
		            &lt;td&gt;Property path containing the list of disabled schedules.&lt;/td&gt;
		        &lt;/tr&gt;
		    &lt;/tbody&gt;
		&lt;/table&gt;

		&lt;img src="../../plugins/@PLUGIN_KEY@/images/help/schedulesEnableParameters.png"
				 alt="schedulesEnable parameters" /&gt;

		&lt;h1&gt;&lt;a name="semaphore"&gt;&lt;/a&gt;Semaphore Management&lt;/h1&gt;

		&lt;h2&gt;acquireSemaphore and releaseSemaphore:&lt;/h2&gt;

		&lt;p&gt;Those 2 procedures are used to create a "semaphore" to control the access to
      a set of steps. In order to insure the atomicity (only one step can modify
      your sempahore property at any time) of the operation, you first need to create
      a resource with a 1-step limit.&lt;br/&gt;
      Then you will need to create a property with a value of 0. The location
      does not matter
      as long as it will be readable and writable by the plugin.&lt;/p&gt;

    &lt;h2&gt;acquireSemaphore&lt;/h2&gt;
    &lt;p&gt;This procedure is the "gate". It checks than you have not used more
      tokens than allowed. If you have, it will simly wait until some become
      available. This procedure is called just before the steps which access
      you want to control.&lt;/p&gt;

      &lt;table class="grid"&gt;
 		    &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
 		    &lt;tbody&gt;
 		        &lt;tr&gt;
 		            &lt;td class='required'&gt;maxSemaphoreValue&lt;/td&gt;
 		            &lt;td&gt;This is the maximum number of token you allow for this semaphore.&lt;/td&gt;
 		        &lt;/tr&gt;
 		        &lt;tr&gt;
 		            &lt;td class='required'&gt;semaphoreProperty&lt;/td&gt;
 		            &lt;td&gt;Property path containing your gate current value.&lt;/td&gt;
 		        &lt;/tr&gt;
            &lt;tr&gt;
               &lt;td class='required'&gt;serializationResource&lt;/td&gt;
               &lt;td&gt;The name of the 1-step resource to access the semaphore property.&lt;/td&gt;
           &lt;/tr&gt;
 		    &lt;/tbody&gt;
 		&lt;/table&gt;
    &lt;img src="../../plugins/@PLUGIN_KEY@/images/help/acquireSemaphore.png"
				 alt="acquireSemaphore parameters" /&gt;

   &lt;h2&gt;releaseSemaphore&lt;/h2&gt;
   &lt;p&gt;This procedure simply "releases" of of the token for other to consume.&lt;/p&gt;

     &lt;table class="grid"&gt;
		    &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
		    &lt;tbody&gt;
		        &lt;tr&gt;
		            &lt;td class='required'&gt;semaphoreProperty&lt;/td&gt;
		            &lt;td&gt;Property path containing your gate current value.&lt;/td&gt;
		        &lt;/tr&gt;
           &lt;tr&gt;
              &lt;td class='required'&gt;serializationResource&lt;/td&gt;
              &lt;td&gt;The name of the 1-step resource to access the semaphore property.&lt;/td&gt;
          &lt;/tr&gt;
		    &lt;/tbody&gt;
		&lt;/table&gt;
   &lt;img src="../../plugins/@PLUGIN_KEY@/images/help/releaseSemaphore.png"
				 alt="releaseSemaphore parameters" /&gt;

		&lt;h1&gt;&lt;a name="license"&gt;&lt;/a&gt;License Logger&lt;/h1&gt;
		&lt;p&gt;The License Logger mechanism is intended to collect and email various
license-related statistics. It is implemented as a set of schedules and procedures,
along with a set of configuration properties.&lt;/p&gt;
		&lt;p&gt;The configuration properties are located under /server/EC-Admin/licenseLogger/config.
The property sheet is created upon promotion if it does not already exists.The following
properties can be set up:&lt;/p&gt;

    &lt;table class="grid"&gt;
      &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
      &lt;tbody&gt;
		    &lt;tr&gt;
		      &lt;td&gt;resource&lt;/td&gt;
					&lt;td&gt;The name of the resource on which to run the procedures. Default is "local".&lt;/td&gt;
		    &lt;/tr&gt;
				&lt;tr&gt;
			    &lt;td&gt;workspace&lt;/td&gt;
					&lt;td&gt;The name of the workspace used by the procedures. Default is "default".&lt;/td&gt;
		    &lt;/tr&gt;
				&lt;tr&gt;
			        	&lt;td&gt;cleanOldJobs&lt;/td&gt;
						&lt;td&gt;A boolean to remove old jobs so only the last one is kept for each procedure. It keeps your job history cleaner.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td class='required'&gt;emailConfig&lt;/td&gt;
						&lt;td&gt;The name of the mail configuration used to send report.&lt;/td&gt;
		            &lt;/tr&gt;
					&lt;tr&gt;
			        	&lt;td class='required'&gt;emailTo&lt;/td&gt;
						&lt;td&gt;The list of recipients (semicolon separated) to which to send the reports.&lt;/td&gt;
		            &lt;/tr&gt;
            	&lt;/tbody&gt;
        	&lt;/table&gt;

		&lt;h1&gt;&lt;a name="postp"&gt;&lt;/a&gt;postp debugger helper&lt;/h1&gt;
		&lt;p&gt;The debugPostp is a simple procedure to help you debug with postp. Traditionally you would call postp from the command line with the jobStepId of the faulty postp and adding some additional option to see details. This new procedure does that for you on Linux and Windows, you just have to pass the jobStepId as a parameter.&lt;/p&gt;

		&lt;h1&gt;&lt;a name="comm"&gt;&lt;/a&gt;Communication&lt;/h1&gt;
		&lt;p&gt;The sendAlert is a simple procedure to send a message to all registered users with an email address attached to the account. You can format your email in HTML by encapsulating it in a &amp;lt;html&amp;gt; tag.&lt;/p&gt;

    &lt;h1&gt;&lt;a name="misc"&gt;&lt;/a&gt;Miscellaneous&lt;/h1&gt;
    &lt;p&gt;For all those procedure I'm not sure where to put&lt;/p&gt;
    &lt;h2&gt;findJobId&lt;/h2&gt;
    &lt;p&gt;This procedure is designed for people migratimg away from ElectricCommander
      4.2 to ElectricFlow 5.x or later. It will simply search in the step commands
      or parameters to a sub-procedure for any instance of jobId. No change will
      be done. It's up to the user to make any change.&lt;/p&gt;

    &lt;table class="grid"&gt;
      &lt;thead&gt;&lt;tr&gt;&lt;th&gt;Parameter&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
      &lt;tbody&gt;
  		  &lt;tr&gt;
  	      &lt;td&gt;projectPattern&lt;/td&gt;
  				&lt;td&gt;A SQL pattern to filter projects for the search.&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;


		&lt;h1&gt;Contact authors&lt;/h1&gt;
		&lt;dl&gt;
			&lt;dt&gt;License Logger&lt;/dt&gt;
			&lt;dd&gt;Mike Westerhof&lt;/dd&gt;

			&lt;dt&gt;deleteObjects&lt;/dt&gt;
      &lt;dt&gt;testResources&lt;/dt&gt;
			&lt;dd&gt;&lt;a href="https://github.com/tanaynagjee"&gt;Tanay Nagjee&lt;/a&gt;&lt;/dd&gt;

      &lt;dt&gt;Other&lt;/dt&gt;
			&lt;dd&gt;Laurent Rochette (&lt;a href="mailto:lrochette@electric-cloud.com"&gt;lrochette@electric-cloud.com&lt;/a&gt;)&lt;/dd&gt;
		&lt;/dl&gt;

	&lt;h1&gt;Legal Jumbo&lt;/h1&gt;

	&lt;p&gt;This module is free for use. Modify it however you see fit to better your
experience using ElectricCommander. Share your enhancements and fixes.&lt;/p&gt;

	&lt;p&gt;This module is not officially supported by Electric Cloud. It has undergone no
formal testing and you may run into issues that have not been uncovered in the
limited manual testing done so far.&lt;/p&gt;

	&lt;p&gt;Electric Cloud should not be held liable for any repercussions of using this
software.&lt;/p&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</value>
      </property>
      <property>
        <propertyName>pluginBuildNumber</propertyName>
        <description/>
        <expandable>1</expandable>
        <value>444</value>
      </property>
      <property>
        <propertyName>promoteAction</propertyName>
        <description/>
        <expandable>1</expandable>
        <value>if ( $promoteAction eq 'promote' ) {
    local $self-&gt;{abortOnError} = 0;
	
    # If the licenseLogger config PS does not already exist, create it
    my $cfg = $commander-&gt;getProperty("/server/EC-Admin/licenseLogger/config");    
	if ($cfg-&gt;findvalue("//code") eq "NoSuchProperty") {
        # we need the top PS later for the ACLs
        $commander-&gt;createProperty("/server/EC-Admin", {propertyType =&gt; 'sheet'});
		$batch-&gt;setProperty( "/server/EC-Admin/licenseLogger/config/emailTo", "admin",{description=&gt;'comma separated list of userid or email'} );
		$batch-&gt;setProperty( "/server/EC-Admin/licenseLogger/config/emailConfig", "default",{description=&gt;'The name of your email configuration'} );
		$batch-&gt;setProperty( "/server/EC-Admin/licenseLogger/config/cleanpOldJobs", 1 );
		$batch-&gt;setProperty( "/server/EC-Admin/licenseLogger/config/resource", "local" );
		$batch-&gt;setProperty( "/server/EC-Admin/licenseLogger/config/workspace", "default" );
	}

    # If the cleanup config PS does not already exist, create it
    $cfg = $commander-&gt;getProperty("/server/EC-Admin/cleanup/config");
    if ($cfg-&gt;findvalue("//code") eq "NoSuchProperty") {
        $batch-&gt;setProperty( "/server/EC-Admin/cleanup/config/timeout", 600);
    }

    # Give project principal "Electric Cloud" write access to our project
    my $projPrincipal = "project: Electric Cloud";
    my $ecAdminProj = '@PLUGIN_NAME@';
    
    # Give project Electric Cloud permission on ec_reportData
    $cfg = $commander-&gt;getProperty("ec_reportData", {projectName =&gt; $ecAdminProj});
    my $psId= $cfg-&gt;findvalue("//propertySheetId");

    my $xpath = $commander-&gt;getAclEntry("user", $projPrincipal, 
            { 
                projectName =&gt; $ecAdminProj, 
                propertySheetId =&gt; $psId 
            });
    if ($xpath-&gt;findvalue('//code') eq 'NoSuchAclEntry') {
        $batch-&gt;createAclEntry("user", "project: Electric Cloud", 
             {
                projectName =&gt; $ecAdminProj,
                propertySheetId =&gt; $psId, 
                "readPrivilege"=&gt;"allow", 
                "modifyPrivilege"=&gt;"allow",
             });
    }      

    #
    # Give Everyone permission on /server/counters/EC-Admin
    $cfg = $commander-&gt;getProperty("/server/counters/EC-Admin/jobCounter");
    if ($cfg-&gt;findvalue("//code") eq "NoSuchProperty") {
        $batch-&gt;setProperty( "/server/counters/EC-Admin/jobCounter", 0);
    }

    $cfg=$commander-&gt;getProperty("/server/counters/EC-Admin");
    $psId= $cfg-&gt;findvalue("//propertySheetId");

    $xpath = $commander-&gt;getAclEntry("group", "Everyone", {propertySheetId =&gt; $psId});
    if ($xpath-&gt;findvalue('//code') eq 'NoSuchAclEntry') {
        $batch-&gt;createAclEntry("group", "Everyone", 
             {
                propertySheetId =&gt; $psId, 
                "readPrivilege" =&gt;"allow", 
                "modifyPrivilege" =&gt;"allow",
             });
    } 


    # Give plugin permission on /server/EC-Admin
    $projPrincipal='project: @PLUGIN_NAME@';
    $cfg = $commander-&gt;getProperty("/server/EC-Admin");
    $psId= $cfg-&gt;findvalue("//propertySheetId");

    $xpath = $commander-&gt;getAclEntry("user", $projPrincipal, 
            {  
                propertySheetId =&gt; $psId 
            });
    if ($xpath-&gt;findvalue('//code') eq 'NoSuchAclEntry') {
        $batch-&gt;createAclEntry("user", "$projPrincipal", 
             {
                propertySheetId =&gt; $psId, 
                "readPrivilege" =&gt;"allow", 
                "modifyPrivilege" =&gt;"allow",
                "changePermissionsPrivilege" =&gt; "allow",
             });
    } 
   # Remove previous plugin permission on /server/EC-Admin
   if ($otherPluginName ne "") {
        my $otherProjPrincipal="project: $otherPluginName";
        # $psId is the same than above
        $xpath = $commander-&gt;getAclEntry("user", $otherProjPrincipal, 
                {
                    propertySheetId =&gt; $psId 
                });
        if ($xpath-&gt;findvalue('//principalName') eq $otherProjPrincipal) {
            $batch-&gt;deleteAclEntry("user", "$otherProjPrincipal", 
                 {
                    propertySheetId =&gt; $psId,
                 });
        }
    } 

} elsif ( $promoteAction eq 'demote' ) { 
    # Remove plugin permission on /server/EC-Admin
    my $projPrincipal='project: @PLUGIN_NAME@';
    my $cfg = $commander-&gt;getProperty("/server/EC-Admin");
    my $psId= $cfg-&gt;findvalue("//propertySheetId");

    my $xpath = $commander-&gt;getAclEntry("user", $projPrincipal, 
            {
                propertySheetId =&gt; $psId 
            });
    if ($xpath-&gt;findvalue('//principalName') eq $projPrincipal) {
        $batch-&gt;deleteAclEntry("user", "$projPrincipal", 
             {
                propertySheetId =&gt; $psId,
             });
    }
}</value>
      </property>
      <property>
        <propertyName>version</propertyName>
        <description>Version of the EC-Admin project

History:
- version 2.23.10
   + Issue #82: find jobId in top-level state properties
- version 2.23.9
   + Issue #81: enhance transition search
- version 2.23.8
   + Issue #74: add option to make search case insensitive
- version 2.23.7
   + Issue #76: find jobId in top-level procedure properties
- version 2.23.6
   + Issue #75: findJobId should detect occurrences in transitionDefinitions
- version 2.23.5
   + Issue #77: / in procedure name
- version 2.23.4
   + Issue #71: use plugin location property instead of dataDirectory
- version 2.23.3
   + Issue #71: findJobId should detect occurrences in workflowDefinitions
- version 2.23.2
   + Issue #70: find jobId in top-level project properties
- version 2.23.1
   + Issue #69: find jobStepId as well
- version 2.23.0
   + Issue #63: add a filtering pattern to saveAllObjects
   + Added backup mechanism for pipeline export (6.1+)

-version 2.22.3
   + Issue #68: add help for findJobId
 -version 2.22.2
   + Issue #67: add help for restoreObjects
 -version 2.22.1
   + Issue #66: improve help for semaphore operations
 -version 2.22.0
   + added procedure to restore .xml files

 -version 2.21
  + added procedure to find jobIds

-version 2.20.1
  + abort procedure when modifyWrapper fails
-version 2.20.0
  + Add new procedure to change the java heap memory setup on an agent

- version 2.19.3
  + skip disabled resource in testResources
  + new procedure to modify java memory settings on a agent (WIP)

- version 2.19.2
  + make new artifactRepositorySynchronization procedure the default one
- version 2.19.1
  + fixed issue with testResources (all steps were running on local)
- version 2.19.0
  + new Artifact repo sync procedure to deal with S3 (Issue #60)

- version 2.18.0
  + added testResources procedure

- version 2.17.0
  + Fixed #58: backup Gateways
  + Fixed #59: backup Zones

- version 2.16.9
 + Remove spaces from step names
- version 2.16.8
 + Fixed issue #56 and #57
- version 2.16.7
 + Add Paging mechanism on artifactRepositorySynchronization
  + Fixed issue about error on manifest
- version 2.16.6
 + Fixed Issue #54: allow custom timeout in jobsCleanup andjobCleanup_byResult
- version 2.16.5
  + Fixed Issue #51: artifactRepositorySynchronization did not work with Zones and firewalls
  + Fixed Issue #50: delete empty directory in case of error with artifactRepositorySynchronization
- version 2.16.4
  + Add description for some license-logger configuration properties
- version 2.16.3
  + Fixed #52: the /server/counters/EC-Admin is not writable
- version 2.16.2
  + fixed #47: nproc does not work on RHEL for performanceMetrics
- version 2.16.1
  + Refreshed Help page and README.md
  + Fixed #49: limit of 100 artifact versions in artifactRepositorySynchronization
-version 2.16.0
  + add option to enable change tracking on the created plugin (with projectAsCode)

- version 2.15.0
  + add procedures to enable and disable schedules.

- version 2.14.3
  + Fixed #45, bad links in deleteWorkspaceOrphans

- version 2.14.2
  + Fixed EC-Admin project reference issue in debugPostp

- version 2.14.1
  + Fixed issue with artifactRepositorySynchronization

- version 2.14.0
  + Fixed Issue #42: add step export to saveAllObjects

- version 2.13.0
  + Added property to allow to add plugin dependencies in projectAsCode

- version 2.12.2
  + Fixed Issue #41: missing getP in deleteObject

- version 2.12.1
  + Fixed issue #39 attachParameter syntax change in EF 6.0

- version 2.12.0
  + Set minimum version for plugin for current server version

- version 2.11.0
  + Added sendAlert (Issue #25)

- version 2.10.0
  + Fixed changeBanner for version 6.0

- version 2.9.4
  +  Added --withNotifiers option when exporting in createPluginFromProject

- version 2.9.3
  + added libraries for version 5.x for projectAsCode

- version 2.9.2
  + add project property  to include additional files in the plugin

- version 2.9.0
  + Fixed Issue #32: added code to delete configuration.

- version 2.8.2
  + Fixed Issue #35: allow custom timeout in deleteObjects

- version 2.8.1
  + Added parameter to prevent exported project file deletion 

- version 2.8.0
  + Modified projectAsCode to generate code for credential configuration

- version 2.7.3
  + Fixed Issue #29 in deleteObjects

-version 2.7.2
  + Fixed issue with network path on Windows in saveAllObjects

-version 2.7.1
  + Fixed issue with job template in schedules

-version 2.7.0
  + Fixed Issue #12: jobCleanup_byResult now supports local workspace

-version 2.6.0
  + Fixed changeBannerColor for 5.4

-version 2.5.9
  + Replaced some findObjects by countObjects in performanceMetrics for faster results

-version 2.5.8
  + Use pluginsDirectory instead of the dataDirectory in projectAsCode (submitted by vijaybandari)

-version 2.5.7
  + Fixed Issue #21: winDir should not be compulsory for subJC_deleteWorkspace
  + Skip down resources in performanceMetrics

-version 2.5.6
  + Fixed Issue #18: bad property in subJC_deleteWorkspace
  + Fixed Issue #20: getPS does not recurse more than 1 level

-version 2.5.5
  + Default licenseLogger-report schedule now sends previous month data
  + Fixed Issue #17: timeout option in global configuration
  + Fixed ACL issue on /server/EC-Admin property sheet

-version 2.5.4
  + Fixed indentation and empty lines in ec_setup.pl in projectAsCode

-version 2.5.3
  + Fixed Issue #16: Add option to move jobs from old to new version of the plugin created with createPluginFromProject or projectAsCode

-version 2.5.1
  + Fixed Issue #14: open ACL for the plugin on /server/EC-Admin
  + Fixed Issue #15: name of the configuration PS should be EC-Admin not plugin name and version

-version 2.5.0
  + Added procedure artifactRepositorySynchronization to synchronize repository servers

-version 2.4.1
  + saveAllObjects now backups Components as well per Application

-version 2.4.0
  + Added deploy object backup in saveAllObjects

-version 2.3.0
  + jobsCleanup now supports local workspace
  + Slightly changed the pattern matching for deleteOrphanWorkspace
 
- version 2.2.4
  + Fixed Issue #11: ec_reportData cannot be modifed by "Electric Cloud" project

- version 2.2.3
  + JSON lib was missing in projectAsCode::Initialization

- version 2.2.2
  + Removed ec_visibility property  when plugin is transformed back into a project (projectAsCode)
  + Fixed issue with PLUGIN_KEY becoming hardcoded in creat_ec_setup.pl in the EC-Admin plugin

- version 2.2.1
  + Fixed a problem with debugPostp
  + Add total license values in licenseLogger report

- version 2.2.0
  + Added a procedure to help debug postp

- version 2.1.2
  + Added licenseLogger-reporter scheduler
  + Create dummy licenseLoger configuration upon promotion
  + Improved Help
- version 2.0.0
  + Add a licenseLogger to extract usage

- version 1.14.1
  +  Parse script PS recursively in projectAsCode
- version 1.14.0
  +  Extract script PS in projectAsCode

- version 1.13.1
  + Setting JAVA_HOME to use the provided jre one in projectAsCode

- version 1.13.0
  +  Extract ec_parameterForm in projectAsCode

- version 1.12.0
  + Create a dummy help page if it does not exist in projectAsCode

- version 1.11.8
  + Fixed help tip for "directory" parameter in projectAsCode
  + Fixed summary link to the new plugin version in projectAsCode
  + Added report link to the new promoted plugin in projectAsCode

- version 1.11.7
    + Added option to add own logo file in changeBannerColor
    + Added link to installed and promoted plugin in projectAsCode
    + Improved help
- version 1.11.6
    + Added overwrite option for projectAsCode
    + Protect PLUGIN_KEY and PLUGIN_VERSION in steps so they're not hardcoded when 
       EC-Admin plugin is created
- version 1.11.5
    + Professional versions of the logo in black and white
- version 1.11.4
    + Added option to modify the logo
- version 1.11.3
    + Made pink color really pink instead of magenta
- version 1.11.2
    + Added version number to CHANGELOG
- version 1.11.1
    + Added pink and orange color for changeBannerColor procedure
- version 1.11.0
    + Added changeBannerColor procedure

- version 1.10.1
    + Fixed date format in description for projectAsCode
    + Appended the release comment to plugin description when it is present.
 
- version 1.10.1
    + Added creation of CHANGELOG in projectAsCode.

- version 1.10.0
    + Added a new procedure projectAsCode. See Help for details

- version 1.9.0
    + Added a hook to allow actions to be taken when the plugin changes state in createPluginFromProject

- version 1.8.0
    + Added feature to save plugin as an artifact version in createPluginFromProject
 
- version 1.7.1
    + Fixed location of the saved filter for RunReport_Performance_Schedule schedule

- version 1.7.0
    + Added a step to fix self reference to the project in createPluginFromProject

- version 1.6.2
     +   Fixed with resource default  workspace not being used in dynamic steps in performanceMetrics
     +   Fixed subprocedure call to myProject instead of a fixed call to EC-Admin in performanceMetrics
     +  Fixed ec_visbility in createPluginFromProject

- version 1.6.1
     +  Fixed problem with ec_setup and procedure names with dot (".") in createPluginFromProject

- version 1.6.0
     + increased perlHeaderJson length to exactly 20 lines
     + add a procedure subPM-deploymentSize to calculate Commander environment size

- version1.5.2
     + Rewrote localUsage to access jobStepsDirectly
     + localUsage is also now a standalone procedure (subPM-localUsage)

- version1.5.1
     + First user submitted patch by Kate McCormack: 
                   Adding setTimeout equal to 600 so the ec commands won't time out in saveAllObjects and saveProjects

-version 1.5.0
     + added synchronizePlugins procedure to copy plugins from the server to an agent
     + fixed Email address URL in createPluginFromProject

- version 1.4.5
     + Use zip when jar is not available to package plugin
- version 1.4.4
     + Fixed Windows path issue for createPluginFromProject
     + Fixed jar error not reported
- version 1.4.3
     + Ignored sub-steps for localUsage
     + Added comparison for /server/hostIP and /server/hostName
- version 1.4.2
     + Updated help page
- version 1.4.1
     + Fixed percentage formatting
- version 1.4.0
     + Add localUsage statistics in performanceMetrics
     + Remove project ec_tags and other meaningless properties

- version 1.3.9
     + Added a time limit for performanceMetric

- version 1.3.8
     + Fixed ec_visbility  bugs in createPluginFromProject
     + Fixed descriptionForPlugin  bug in createPluginFromProject
     + Fixed several procedure descriptions for the plugin
     + Added help about project level properties for createPluginFromProject
     +  Fixed problem with ec_setup and procedure names with dot (".") in createPluginFromProject

- version 1.3.7
    + removed jobId references in preparation of EC 5.0
    + added artifactsCleanup_byQuantity t clean AV but keep at least X.

- version 1.3.6
    +  saveProject:
        o Add chmod after directory creation for cases when server service and server agent service users are different.
    + Added saveAllObjects procedure to export a bunch of objects individually for finer granularity in the backup
    + Completed the plugin help
    + Added license usage information in performanceMetrics
    + Added a sort to deleteObjects to prevent job range overlapping.

- version 1.3.5
    + Added automatic performance charting
    + Bug fixes
    + Also available as a plugin.
    +  jobsCleanup and jobCleanup_byResult:
         o Add a parameter to skip the computation of the disk space used; to speed up the job
    + Semaphore
         o Added a local job counter to decrement the global gate value. Useful when aborting a job.
           Simply a step that "always run" that will decrement your global gate by /myJob/localSemaphoreCounter
    + createPluginFromProject 
         o Added to automatically create a plugin from a project

- version 1.3.4
    + Better resource management for artifactsCleanup and cleanupRepository
    + perforrmanceMetrics:
          o  Fix bug on Free available RAM with European numbers
          o  Add error management on fsutil call (Windows)
          o  Add a cleanup step for temporary file used in Disk Performance
    + Refactor jobCleanup_byResult to include Workflow and schedule jobs
       Add time parameter
    + Add compareVersion in the PerlLib to compare number strings like x.y.z....

- version 1.3.3
    + Added getPS() function in perlLib (JSON and XML format)
    + Added ec_parameterForm to artifactsCleanup to give it the same look and feel than jobCleanup
    + Took advantage of createJobStep to simplify  artifactsCleanup

- version 1.3.2
    + Added "available disk space" information in performanceMetrics procedure
    + Fixed bug with getP()
    + Added Perl header and library for JSON format
    + Added new parameters for saveProjects (relocatable, ACLs and notifiers)

- version 1.3.1:
    + Added "available memory" information in performanceMetrics procedure

- version 1.3:
    + New procedure to delete jobs by results
    + New parameter to cleanupJobs to skip jobs matching a pattern

- version 1.2:  
    + New  performance diagnostic procedure
    + provide a getP Perl function for easy getProperty
    + New procedure to delete workspace orphan job directories

- version 1.1: 
      semaphore management
      saveProjects

- version 1.0: 
      initial version including job and artifact management</description>
        <expandable>1</expandable>
        <value>2.23.10</value>
      </property>
    <property><propertyName>ec_setup</propertyName><value>PLACEHOLDER</value><expandable>0</expandable></property><property><propertyName>project_version</propertyName><value>@PLUGIN_VERSION@</value></property></propertySheet>
    <procedure>
      <procedureName>acquireSemaphore</procedureName>
      <description>Procedure to acquire a token in order to limit access to a set of procedures

Changelog:
--------------
 10-04-2013   lrochette   Add job counter to help abort a job.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>maxSemaphoreValue</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>semaphoreProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>serializationResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Acquire a token in order to limit access to a set of procedures.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
        <property>
          <propertyName>pluginExpose</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>maxSemaphoreValue</formalParameterName>
        <defaultValue/>
        <description>The maximum sempahore value to gate some procedures.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>semaphoreProperty</formalParameterName>
        <defaultValue/>
        <description>The path to the property used as a semaphore</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>serializationResource</formalParameterName>
        <defaultValue/>
        <description>This should point to a resouce with a step limit of 1</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>acquireSemaphore</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[serializationResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>agentMemoryConfiguration</procedureName>
      <description>A procedure to modify the java memory setting of an agent.
# Specify java heap size in percentage OR mb.

# Initial Java Heap Size (in %)
#wrapper.java.initmemory.percent=15

# Initial Java Heap Size (in mb)
wrapper.java.initmemory=256

# Maximum Java Heap Size (in %)
#wrapper.java.maxmemory.percent=15

# Maximum Java Heap Size (in mb)
wrapper.java.maxmemory=512
</description>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>agent</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>initMemory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>maxMemory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>restartAgent</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>agent</formalParameterName>
        <defaultValue/>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>initMemory</formalParameterName>
        <defaultValue>256</defaultValue>
        <description>a value in mb or a %</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>maxMemory</formalParameterName>
        <defaultValue>512</defaultValue>
        <description>a number in mb or a %</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>restartAgent</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>On Linux the agent service is restarted, on Windows the box is rebooted.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>modifyWrapper</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Modify the wrapper.conf</description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[agent]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>restartAgentLinux</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript ("$[restartAgent]" == "true") &amp;&amp; ("$[/myJob/platform]" == "linux") ]</condition>
        <description>restart the agent.
The agent stops but does not restart</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[agent]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>restartAgentWindows</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript ("$[restartAgent]" == "true") &amp;&amp; ("$[/myJob/platform]" == "windows") ]</condition>
        <description>restart the agent.
The agent stops but does not restart</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[agent]</resourceName>
        <shell>powershell  "&amp; '{0}.ps1'"</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>waitForAgentToGoDown</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>This gives time to the agent to go down</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>waitForAgentToComeBack</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[agent]</condition>
        <description>The step will be blocked until the agent is available again</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[agent]</resourceName>
        <shell/>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>artifactRepositorySynchronization</procedureName>
      <description>Syncs the contents of 2 repositories no matter what is the backing store.
Each AV backing store  to synchronize is downloaded from the source repo on the resource and uploaded to the target repo</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>artifactReposiotyList</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactRepositoryList</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactRepositoryResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactVersionPattern</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>batchSize</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gAVPattern</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>repoList</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>repoResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>sourceArtifactRepository</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>sourceRepository</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>syncResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>targetArtifactRepository</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>targetRepository</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifactVersionPattern</formalParameterName>
        <defaultValue>*</defaultValue>
        <description>Pattern of artifact version to sync. Examples:
   MyGrp:MyKey:* -- all artifact versions with group MyGrp and key MyKey                    
   MyGrp:*           -- all artifact versions with group MyGrp
   *                     -- all artifact versions. This is the default.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>batchSize</formalParameterName>
        <defaultValue>25</defaultValue>
        <description>Batch size</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>sourceRepository</formalParameterName>
        <defaultValue/>
        <description>Name of the resource running the repository to sync to</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>syncResource</formalParameterName>
        <defaultValue/>
        <description>the name of the resource on which to run the synchronization</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>targetRepository</formalParameterName>
        <defaultValue/>
        <description>The target repository</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>syncRepo</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[syncResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>artifactsCleanup</procedureName>
      <description>Delete Artifacts and clean caches.
A resource matching the Repository server is required or some steps will be skipped.

Changelog:
--------------
 08-07-2013  lrochette     Better Resource management: test for existence, alive and enabled before invoking cleanupRepository.

 07-29-2013  lrochette     Added ec_parameterForm to give it the same look and feel than jobCleanup
                                         Took advantage of createJobStep to simplify the procedure</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>adminLogin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Delete old artifacts and clean caches.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifactProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your artifactVersions. If this property is set, your artifactVersions won't be deleted no matter how old it is.
</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>90</defaultValue>
        <description>Indicate the numbers of days after which artifactVersions should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteArtifactVersions</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Script to delete old Artifact Versions</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCleanRepoProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCacheCleaningProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>artifactsCleanup_byQuantity</procedureName>
      <description>Delete Artifact Versions, keeping only X by Artifact ; thenclean caches.
A resource matching the Repository server is required or some steps will be skipped.

Changelog:
--------------
</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>adminLogin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteDependencies</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbToPreserve</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>list</propertyName>
                          <expandable>1</expandable>
                          <value>0|1|5|10|25|100</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Delete old artifacts and clean caches.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifactProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your artifactVersions. If this property is set, your artifactVersions won't be deleted no matter how old it is.
</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbToPreserve</formalParameterName>
        <defaultValue>5</defaultValue>
        <description>indicate the number of version to keep for each artifact</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>90</defaultValue>
        <description>Indicate the numbers of days after which artifactVersions should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteAV</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Script to delete old Artifact Versions per Artifact</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCleanRepoProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[executeDeletion]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>dynamicCacheCleaningProcedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[executeDeletion]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>changeBannerColor</procedureName>
      <description>A procedure to change the color of the banner to easily identify your multiple servers (DEV vs. PROD)</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>color</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>list</propertyName>
                          <expandable>1</expandable>
                          <value>Green|Orange|Pink|Purple|Red|Yellow|Default</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>logo</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Development (black)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-DEV_black.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option10</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Original Version 6</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-version6.gif</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>SDK (black)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-SDK_black.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Test (black)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-TEST_black.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Production (Black)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-PROD_black.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Development (white)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-DEV_white.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option6</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>SDK (white)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-SDK_white.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option7</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Test (white)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-TEST_white.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option8</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Production (white)</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo-PROD_white.png</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option9</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Original</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>logo_original.gif</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>10</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>logoFile</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>webResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>color</formalParameterName>
        <defaultValue>Red</defaultValue>
        <description>Choose the color of your banner</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>logo</formalParameterName>
        <defaultValue>logo-DEV_white.png</defaultValue>
        <description>The logo to display on the top left corner.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>logoFile</formalParameterName>
        <defaultValue/>
        <description>The path on the Commander server to your personal logo to replace the default one. This value will overwrite the logo parameter if it's not blank
</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>webResource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>Name of the resource running on the webserver</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>getVersion</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[webResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>copyBannerFile</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition>$[/javascript ($[/myJob/webVersion] &lt; 5.4) ;]</condition>
        <description>Copy the .gif file for version &lt; 5.4</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <subprocedure>Remote Copy - Native</subprocedure>
        <subproject>/plugins/EC-FileOps/project</subproject>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <actualParameters>
          <property>
            <propertyName>destinationFile</propertyName>
            <expandable>1</expandable>
            <value>$[/server/Electric Cloud/installDirectory]/apache/htdocs/commander/lib/images/frame_bannerBg.gif</value>
          </property>
          <property>
            <propertyName>destinationResourceName</propertyName>
            <expandable>1</expandable>
            <value>$[webResource]</value>
          </property>
          <property>
            <propertyName>destinationWorkspaceName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
          <property>
            <propertyName>sourceFile</propertyName>
            <expandable>1</expandable>
            <value>$[/server/settings/pluginsDirectory]/@PLUGIN_NAME@/htdocs/frame_bannerBg_$[color].gif</value>
          </property>
          <property>
            <propertyName>sourceResourceName</propertyName>
            <expandable>1</expandable>
            <value>local</value>
          </property>
          <property>
            <propertyName>sourceWorkspaceName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>updateCSS</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript ($[/myJob/webVersion] &gt;= 5.4) ;]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[webResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>copyLogoFile</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <subprocedure>Remote Copy - Native</subprocedure>
        <subproject>/plugins/EC-FileOps/project</subproject>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <actualParameters>
          <property>
            <propertyName>destinationFile</propertyName>
            <expandable>1</expandable>
            <value>$[/server/Electric Cloud/installDirectory]/apache/htdocs/commander/images/logo.gif</value>
          </property>
          <property>
            <propertyName>destinationResourceName</propertyName>
            <expandable>1</expandable>
            <value>$[webResource]</value>
          </property>
          <property>
            <propertyName>destinationWorkspaceName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
          <property>
            <propertyName>sourceFile</propertyName>
            <expandable>1</expandable>
            <value>$[/javascript ("$[logoFile]" == "")? "$[/server/settings/pluginsDirectory]/@PLUGIN_NAME@/htdocs/$[logo]" : "$[logoFile]" ;]</value>
          </property>
          <property>
            <propertyName>sourceResourceName</propertyName>
            <expandable>1</expandable>
            <value>local</value>
          </property>
          <property>
            <propertyName>sourceWorkspaceName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>cleanupCacheDirectory</procedureName>
      <description>Clear out all stale artifacts from a given artifact cache.
Can be called manually on 1 resource or automatically on all</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>90</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue/>
        <description>The resource on which to run this job. The agent running on this resource must have access to the specified artifact cache directory. Note that if no artifact cache directory is specified, the job will cleanup the default artifact cache used by the resource.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>clearInvalidArtifactVersions</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>traverseCacheDirectory</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript myJob.cacheDirectoryIsValid == '1']</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>timeBaseDeletion</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript myJob.candidatesForDeletion == '1']</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>cleanupRepository</procedureName>
      <description>Clear out all stale artifacts from a repository's backing store.
This procedure can be run on an individual repository or can be called on all repositories by "Artifact Cleanup"</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>$[resource]</resourceName>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>adminLogin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>The resource on which to run this job. This resource must be running on the same machine as a repository server. The job will detect the repository's backing store location based on the assumption that the resource is installed along with the repository.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>clearInvalidArtifactVersions</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the environment variable COMMANDER_DATA, then check for a repository server.properties relative to this directory. Error out if the properties file can't be found, otherwise parse it for the backing store location. Once we have the backing store, call cleanupRepository on that directory.

</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>createPluginFromProject</procedureName>
      <description>Create a plugin from a simple project

OBSOLETE: being replaced by projectAsCode. Keeping it in EC-Admin for current users but won't be updated anymore

Changelog:
--------------
2015-07-11  lrochette   Added --withNotifiers option when exporting the project
2015-02-27  lrochette   Added a moveJobs option to move jobs from old plugin version to the new one
2014-06-18  lrochette   Added a hook to allow actions to be taken when the plugin changes state
2014-05-08  lrochette   Added feature to save plugin as an artifact version
2014-04-30  lrochette   Added step to fix self reference to project
2014-04-29  lrochette   Fixed ec_visbility issue
2014-04-03  lrochette   Fixed problem with ec_setup and procedure names with dot (".")
2014-03-12  lrochette   fixed Email address URL issue
2014-03-11  lrochette   Fixed jar error not reported
                                      Fixed Windows path issue for
                                      Use zip when jar is not available to package plugin
2014-01-31  lrochette   Fixed descriptionForPlugin bug
2014-01-26  lrochette   Fixed ec_visbility  (pickListOnly)
2014-02-04  lrochette   Fixed problem with ec_setup and procedure names with dot (".")
2014-04-02  lrochette   Fixed problem with ec_setup and procedure names with dot (".")
2014-04-29  lrochette   Fixed ec_visbility
2014-04-30  lrochette   Added a step to fix self reference to the project</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>Author</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Category</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Comment</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Description</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Email</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Plugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Version</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>createArtifact</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>directory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>fixSelfReferences</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>installPlugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>moveJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pluginName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>promotePlugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Transform a project into a plugin</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>Author</formalParameterName>
        <defaultValue/>
        <description>One must take credit where credit is owed</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Category</formalParameterName>
        <defaultValue/>
        <description>The category used for the plugin list</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Comment</formalParameterName>
        <defaultValue/>
        <description>Comment to add to description and changeLog</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>createArtifact</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>Check to save the plugin in the Artifact Repository</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Description</formalParameterName>
        <defaultValue/>
        <description>The description of your plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Email</formalParameterName>
        <defaultValue/>
        <description>The email address of the author for support purpose</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>fixSelfReferences</formalParameterName>
        <defaultValue>false</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>installPlugin</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>install the plugin or not at the end of the process</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>moveJobs</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>A boolean to indicate if you want to move the jobs associated to the previous version of the plugin upon promotion of the new version.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Plugin</formalParameterName>
        <defaultValue/>
        <description>The name of the plugin you want to create. If it's empty it will use the source project name.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Project</formalParameterName>
        <defaultValue/>
        <description>Pick the source project for which you want to create a plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>project</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>promotePlugin</formalParameterName>
        <defaultValue>false</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Version</formalParameterName>
        <defaultValue>1.0.0</defaultValue>
        <description>Version of the plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Initialization</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Set up some job properties</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createFileStructure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Create the file structure required for a plugin

/
	/ META-INF
		/ plugin.xml
		/ project.xml
	/ pages
		/ help.xml
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>fixSelfReferences</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[fixSelfReferences]</condition>
        <description>Replace self references in states, schedules and steps to the current project by an empty String</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createPlugin.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the META-INF/plugin.xml</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>setProjectProperty-ec_visbility</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>set the right properties to be able to see the project in the picketList

$ec-&gt;setProperty("/projects/$[Project]/ec_visibility", "pickListOnly");

</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>setProjectProperties-ec_setup</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>set the right properties to be able to see the project in the picketList.
Procedure is added only if property pluginExpose is set</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createProject.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Create the META-INF/project.xml</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>restore-ec_visibility</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createHelp.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>if the property "help" exist for the project, use it to create the pages/help.xml</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>packagePlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Create the jar file for the plugin</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>savePluginAsArtifactVersion</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[createArtifact]</condition>
        <description>Let's save the plugin in the Artifact Repository</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>installPlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript "$[installPlugin]" == "true" ]
</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>promotePlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript "$[promotePlugin]" == "true" ]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>debugPostp</procedureName>
      <description>&lt;html&gt;A procedure to automatize my manual postp debugging process:
&lt;ul&gt;
&lt;li&gt;note jobStepId&lt;/li&gt;
&lt;li&gt;cd in the workspace to have access to the original log file&lt;/li&gt;
&lt;li&gt;run postp with the same option plus --debugLog and --jobStepId&lt;/li&gt;
&lt;li&gt;check the debugLog file for information.&lt;/li&gt;
&lt;li&gt;Modify your matcher&lt;/li&gt;
&lt;li&gt;Rinse and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;/html&gt;</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debug</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>myJobStepId</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>myJobStepId</formalParameterName>
        <defaultValue>1637022</defaultValue>
        <description>jobStepId to use for debugging purpose</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>getJobStepInformation</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Extract a few information from the original job step:
- postp command
- logFile to analyze and its workspace location
- resource on which it was executed
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>rerunPostp</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Rerun the same command on the same agent that the original</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/assignedResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>deleteObjects</procedureName>
      <description>A procedure to quickly delete jobs or workflows older than a
specified number of days. It will NOT delete associated workspace job
directories. This is for customers with huge job or workflow database

Changelog:
-------------
09-12-2015  lrochette  Fixed Issue #41: missing getP
05-27-2015  lrochette  Fixed Issue #35: allow custom timeout
05-21-2015  cfulton     Fixed issue #29
12-23-2013  tnagjee    Added a sort to prevent job ID range overlap as reported in ZD #109574
</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>seconds</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>objectType</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>list</propertyName>
                          <expandable>1</expandable>
                          <value>job|workflow</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>simpleList</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>A procedure to quickly delete jobs or workflows older than a specified number of days. It will NOT delete associated workspace job directories.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>chunkSize</formalParameterName>
        <defaultValue>20</defaultValue>
        <description>Iterate over chunks this size until maxObjects.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>daysLimit</formalParameterName>
        <defaultValue>30</defaultValue>
        <description>Delete jobs at least this many days old.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>maxObjects</formalParameterName>
        <defaultValue>2000</defaultValue>
        <description>Delete up to this many objects.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>objectType</formalParameterName>
        <defaultValue>job</defaultValue>
        <description>The type of object (job|workflow|etc).</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <step>
        <stepName>Delete</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>deleteWorkspaceOrphans</procedureName>
      <description>Procedure to crawl a workspace directory to find orphan jobs (directories without a matching job)</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThab</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>4</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>4</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>verboseMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>workspace</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this parameter is not true, no real data will be deleted.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>91</defaultValue>
        <description>Indicate the number of days after which orphans job directories should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>Choose a resource that have full access to the workspace</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>verboseMode</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Display information about directories that are skipped</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>workspace</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>Name of the workspace t crawl for orphans</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>crawlWorkspace</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>findJobId</procedureName>
      <description>A procedure to find the occurences of jobId in sub-procedure parameters and command to help with 4.2 to 5.x+ migration</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>projectPattern</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>projectPattern</formalParameterName>
        <defaultValue/>
        <description>a SQL pattern to filter projects. Default is all projects.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>procedureCrawler</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>This step searches in top level project properties and procedures/steps</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>workflowCrawler</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>This step searches in workflow and states</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>jobCleanup_byResult</procedureName>
      <description>Delete jobs and the associated workspace based on  result: keeping X goods/warning, and Y failed
Report the number of jobs, the disk space and database space that could/was be deleted.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>computeDiskUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Aborted Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Error Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Successful Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteAbortedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobLevel</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Error &amp; Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Error</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>3</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbFailedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbGoodJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbWarning</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbWarningJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>2 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>60</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option6</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Now</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>0</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>6</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>skipPlugins</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>Redefine UI</description>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>computeDiskUsage</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Crawl the workspace job directory to compute the disk space used. Unchecking it will speed runtime.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your jobs. If this property is set, your job won't be deleted.
</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbFailedJobs</formalParameterName>
        <defaultValue>3</defaultValue>
        <description>number of failed jobs to preserve</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbGoodJobs</formalParameterName>
        <defaultValue>5</defaultValue>
        <description>Number of good jobs to keep. Warning is considered good.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>nbWarningJobs</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>Number of Warning jobs to keep</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>Indicate the numbers of days after which jobs should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>skipPlugins</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>A boolean to indicate to skip plugin projects or not</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>deleteJobs.byProject</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Script to delete all jobs and workspaces associated to a project
It includes CI and workflows jobs.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>jobsCleanup</procedureName>
      <description>Delete jobs older than a number of days, along with the associated workspace.
Report the number of jobs, the disk space and database space that could/was be deleted.

Changelog:
--------------
03-05-2015  Fixed Issue #18: bad property in subJC_deleteWorkspace
                  Fixed Issue #19: should skip down machine for local workspace
09-20-2013  lrochette    Rewritten using JSON to increase performance
                                       Paramater is also now used to skip number of steps computation
 09-12-2013  lrochette   Add a parameter to skip the computation of the disk space used; to speed up the job</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>computeDiskUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>computeUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Aborted Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Error Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Successful Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteAbortedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobLevel</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Error &amp; Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Error</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>3</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobPatternMatching</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>2 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>60</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>5</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>Delete jobs older than a number of days, along with the associated workspace.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>Redefine UI</description>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>computeUsage</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Crawl the workspace job directory and the number of steps to compute the space use. Unchecking it will speed runtime.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobLevel</formalParameterName>
        <defaultValue>Aborted</defaultValue>
        <description>define what jobs you want to delete: Aborted, Error, All</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobPatternMatching</formalParameterName>
        <defaultValue/>
        <description>a SQL pattern matching to automatically preserve some jobs. The pattern must solve for a LIKE statement.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>jobProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your jobs. If this property is set, your job won't be deleted no matter how old it is.
</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>91</defaultValue>
        <description>Indicate the numbers of days after which jobs should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <step>
        <stepName>deleteJobs</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Script to delete jobs and workspaces</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>licenseLogger-report</procedureName>
      <description>&lt;html&gt;&lt;b&gt;Scheduled Procedure&lt;/b&gt; - report on license usage summary and supporting detail&lt;/html&gt;</description>
      <jobNameTemplate>$[/plugins[EC-Admin]project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>logName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>sendEmail</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>logName</formalParameterName>
        <defaultValue/>
        <description>Name of log to be processed.  Default is the log corresponding to the previous period (i.e. for monthly logs, the default is to process last month's log)</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>sendEmail</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Send email?</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>summarizeLicenseUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Perl script to identify and summarize a log file containing license usage statistics</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.resource) == "undefined")? "local" : server['EC-Admin'].licenseLogger.config.resource ]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.workspace) == "undefined")? "default" : server['EC-Admin'].licenseLogger.config.workspace ]</workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>cleanup</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.cleanpOldJobs) == "undefined")? "1" : server['EC-Admin'].licenseLogger.config.cleanpOldJobs ]</condition>
        <description>Cleans up old job records.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.resource) == "undefined")? "local" : server['EC-Admin'].licenseLogger.config.resource ]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit>5</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.workspace) == "undefined")? "default" : server['EC-Admin'].licenseLogger.config.workspace ]</workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>licenseLogger-snapshot</procedureName>
      <description>&lt;html&gt;&lt;b&gt;Scheduled Procedure&lt;/b&gt; - gathers and stores the periodic snapshot of license usage&lt;/html&gt;</description>
      <jobNameTemplate>$[/plugins[EC-Admin]project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
      </propertySheet>
      <step>
        <stepName>getLicenseUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Perl script to log license usage statistics

ChangeLog:
--------------
2015-02-25  lrochette  Fixed Issue #15: name of the configuration PS should be EC-Admin not plugin name and version
</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.resource) == "undefined")? "local" : server['EC-Admin'].licenseLogger.config.resource ]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit>15</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.workspace) == "undefined")? "default" : server['EC-Admin'].licenseLogger.config.workspace ]</workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>cleanup</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.cleanpOldJobs) == "undefined")? "1" : server['EC-Admin'].licenseLogger.config.cleanpOldJobs ]</condition>
        <description>Cleans up old job records.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.resource) == "undefined")? "local" : server['EC-Admin'].licenseLogger.config.resource ]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit>5</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName>$[/javascript (typeof(server['EC-Admin'].licenseLogger.config.workspace) == "undefined")? "default" : server['EC-Admin'].licenseLogger.config.workspace ]</workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>performanceMetrics</procedureName>
      <description>Performance diagnostics for EC server and agents

Changelog:
--------------
 04-09-2015  lrochette    Replaced some findObjects by countObjects
 08-09-2013  lrochette    Fixed bug on Free available RAM with European numbers
 08-30-2013  lrochette    Added fsutil error management 
 08-30-2013  lrochette    Added a cleanup step for the disk performance temporary file
 12-21-2013  lrochette    Added license usage information
 04-16-2014  lrochette    Fixed subprocedure call to myProject instead of a fixed call
 04-18-2014  lrochette    Fixed with resource default  workspace not being used in dynamic steps</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debugMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>nbJobSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>numberOfGB</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>1</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>5 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>5</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>10 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>10</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>20 GB</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>20</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>4</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>numberOfJobSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>numberOfSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>Performance diagnostics for EC server and agents.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debugMode</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>debug Mode</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>numberOfGB</formalParameterName>
        <defaultValue>1</defaultValue>
        <description>Indicate the numbers of GB of data you can write in your workspace to test disk performance</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>numberOfJobSteps</formalParameterName>
        <defaultValue>5000</defaultValue>
        <description>The number of job steps to evaluate for the localUsage</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>numberOfSteps</formalParameterName>
        <defaultValue>500</defaultValue>
        <description>Number of Steps to create for the Database Performance</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>serverMemoryAmount</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the amount of memory for the EC server
Default values:
Bad: &lt; 8 GB
Good: Between 8 and 12 GB
Best: More than 12 GB</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>freeMemory</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the amount of  free memory for the EC server
Information only</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>diskSpaceAvailable</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the amount of  available disk space for the EC server
Information only</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>javaHeap</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Report Java size information

# Initial Java Heap Size (in %)
wrapper.java.initmemory.percent=20

# Initial Java Heap Size (in mb)
#wrapper.java.initmemory=2048

# Maximum Java Heap Size (in %)
wrapper.java.maxmemory.percent=40

# Maximum Java Heap Size (in mb)
#wrapper.java.maxmemory=4096
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>numberOfCores</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the number of cores for the EC server
Default values:
Bad: &lt; 4
Good: Between 4 and 6
Best: More than 6</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>serverCpuSpeed</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the CPU speed for the EC server
Default values:
Bad: &lt; 1.5 GHz
Good: Between 1.5 and 2 GHz
Best: More than 2 GHz</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>licenseUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Display information about license usage.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>databaseType</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the Database type for the EC server
Default values:
Bad: H2
Good: mysql
Best: mssql or oracle</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>deploymentSize</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <subprocedure>subPM-deploymentSize</subprocedure>
        <subproject>$[/myProject/projectName]</subproject>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>writeDiskPerformance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check theDisk Performance for the EC server
Default values:
Bad: H2
Good: mysql
Best: mssql or oracle</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>readDiskPerformance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check theDisk Performance for the EC server
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>localUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <subprocedure>subPM-localUsage</subprocedure>
        <subproject>$[/myProject/projectName]</subproject>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <actualParameters>
          <property>
            <propertyName>debugMode</propertyName>
            <expandable>1</expandable>
            <value>0</value>
          </property>
          <property>
            <propertyName>number</propertyName>
            <expandable>1</expandable>
            <value>5000</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>Performance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Run a performance time on each resource
Test is from http://xahlee.info/UnixResource_dir/sultra_skami.html</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>databasePerformance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Create a bunch of steps to check performance of the DB</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>PingTime</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Check the ping times from  the EC server to the agents
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>cleanDiskPerformanceTemporaryFile</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>projectAsCode</procedureName>
      <description>Create a plugin from a simple project

Changelog:
--------------
2015-05-29  lrochette   Fixed Issue #32: added code to delete configuration.
2015-04-02  vijaybandari  Use the plugin directory setting instead of the dataDirectory
2015-02-27  lrochette   Added a moveJobs option to move jobs from old plugin version to the new one
2014-12-18  lrochette   JSON lib was missing in Initialization
2014-12-10  kjdowney  Remove ec_visibility Prop
2014-08-27  lrochette   Parse "scripts" PS recursively 
2014-08-25  lrochette   Extracting "scripts" PS generally containing code 
2014-07-30  lrochette   Fixed "directory" parameter help tip
                                 Now pick ant from the SDK instead of the path
                                 Fixed summary link to the new plugin version
                                 Added report link to the new promoted plugin
                                 Create a dummy page if t does not already exists
                                 Extract ec_parameterForm
                                 Setting up JAVA_HOME to use the provided jre one in projectAsCode
2014-07-17  lrochette   Added CHANGELOG creation
2014-07-09  lrochette   Include projectAsCode option
2014-06-18  lrochette   Added a hook to allow actions to be taken when the plugin changes state
2014-05-08  lrochette   Added feature to save plugin as an artifact version
2014-04-30  lrochette   Added step to fix self reference to project
2014-04-29  lrochette   Fixed ec_visbility issue
2014-04-03  lrochette   Fixed problem with ec_setup and procedure names with dot (".")
2014-03-12  lrochette   fixed Email address URL issue
2014-03-11  lrochette   Fixed jar error not reported
                                      Fixed Windows path issue for
                                      Use zip when jar is not available to package plugin
2014-01-31  lrochette   Fixed descriptionForPlugin bug
2014-01-26  lrochette   Fixed ec_visbility  (pickListOnly)
2014-02-04  lrochette   Fixed problem with ec_setup and procedure names with dot (".")
2014-04-02  lrochette   Fixed problem with ec_setup and procedure names with dot (".")
2014-04-29  lrochette   Fixed ec_visbility
2014-04-30  lrochette   Added a step to fix self reference to the project</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>Author</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Category</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Comment</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Description</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Email</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Plugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>SDKResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>SDKpath</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>Version</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>changeTracking</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>createArtifact</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>directory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>disableCleanup</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>fixSelfReferences</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>installPlugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>moveJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>overwrite</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pluginName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>projectAsCode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>promotePlugin</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description>Description used in the pickerList when transformed into a plugin</description>
          <expandable>1</expandable>
          <value>Transform a project into a plugin</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>Author</formalParameterName>
        <defaultValue/>
        <description>One must take credit where credit is owed</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Category</formalParameterName>
        <defaultValue/>
        <description>The category used for the plugin list</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>changeTracking</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>Enable change tracking on the plugin. Option valid only for version 5.0 and later</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Comment</formalParameterName>
        <defaultValue/>
        <description>Comment to add to description and changeLog</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>createArtifact</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>Check to save the plugin in the Artifact Repository</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Description</formalParameterName>
        <defaultValue/>
        <description>The description of your plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>directory</formalParameterName>
        <defaultValue>/scratch/EC_test</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>disableCleanup</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>Prevent the procedure to delete the exported project file. Can be an issue when the  agent and server run as different users</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Email</formalParameterName>
        <defaultValue/>
        <description>The email address of the author for support purpose</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>fixSelfReferences</formalParameterName>
        <defaultValue>false</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>installPlugin</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>install the plugin or not at the end of the process</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>moveJobs</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>A boolean to indicate if you want to move the jobs associated to the previous version of the plugin upon promotion of the new version.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>overwrite</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>Overwrite ec_setup property by the content generated automatically by this procedure.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Plugin</formalParameterName>
        <defaultValue/>
        <description>The name of the plugin you want to create. If it's empty it will use the source project name.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Project</formalParameterName>
        <defaultValue/>
        <description>Pick the source project for which you want to create a plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>project</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>projectAsCode</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>Toggle to add a bit of code in ec_setup to extract the project upon plugin promotion</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>promotePlugin</formalParameterName>
        <defaultValue>false</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>SDKpath</formalParameterName>
        <defaultValue/>
        <description>The path to your SDK installation</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>SDKResource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>Name of the resource where the SDK is located</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Version</formalParameterName>
        <defaultValue>1.0.0</defaultValue>
        <description>Version of the plugin</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Initialization</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Set up some job properties</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>setProjectProperty-ec_visbility</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>set the right properties to be able to see the project in the picketList

$ec-&gt;setProperty("/projects/$[Project]/ec_visibility", "pickListOnly");

</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createConfigurationCode</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition>$[/javascript (typeof(projects['$[Project]'].configureCredentials) != "undefined") ;]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <subprocedure>sub-pac_createConfigurationCode</subprocedure>
        <subproject/>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <actualParameters>
          <property>
            <propertyName>Project</propertyName>
            <expandable>1</expandable>
            <value>$[Project]</value>
          </property>
          <property>
            <propertyName>pluginName</propertyName>
            <expandable>1</expandable>
            <value>$[/myJob/pluginName]</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>fixSelfReferences</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[fixSelfReferences]</condition>
        <description>Replace self references in states, schedules and steps to the current project by an empty String</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>exportProjectToServer</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>The export happens on the server</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>copyProjectToResource</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition/>
        <description/>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <subprocedure>Remote Copy - Native</subprocedure>
        <subproject>/plugins/EC-FileOps/project</subproject>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <actualParameters>
          <property>
            <propertyName>destinationFile</propertyName>
            <expandable>1</expandable>
            <value>$[directory]/project.xml</value>
          </property>
          <property>
            <propertyName>destinationResourceName</propertyName>
            <expandable>1</expandable>
            <value>$[SDKResource]</value>
          </property>
          <property>
            <propertyName>destinationWorkspaceName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
          <property>
            <propertyName>sourceFile</propertyName>
            <expandable>1</expandable>
            <value>$[/server/Electric Cloud/dataDirectory]/logs/project.xml</value>
          </property>
          <property>
            <propertyName>sourceResourceName</propertyName>
            <expandable>1</expandable>
            <value>local</value>
          </property>
          <property>
            <propertyName>sourceWorkspaceName</propertyName>
            <expandable>1</expandable>
            <value>default</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>deleteExportedProject</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <condition>$[/javascript !$[disableCleanup] ]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <parallel>0</parallel>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <subprocedure>DeleteFile</subprocedure>
        <subproject>/plugins/EC-FileOps/project</subproject>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workspaceName/>
        <actualParameters>
          <property>
            <propertyName>Path</propertyName>
            <expandable>1</expandable>
            <value>$[/server/Electric Cloud/dataDirectory]/logs/project.xml</value>
          </property>
        </actualParameters>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>explodeProject</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description> Converts a Commander project into ProjectAsCode-ready set of files:
 - Steps:  project/&lt;procedureName&gt;-&lt;stepName&gt;&lt;.extension&gt;
 - project/manifest.pl
 - project/project.xml.in</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createFileStructure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Create the file structure required for a plugin

/
	/ META-INF
		/ plugin.xml
		/ project.xml
	/ pages
		/ help.xml
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_ec_setup.pl</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript "$[overwrite]" == "true" ;]</condition>
        <description>set the right properties to be able to see the project in the picketList.
Procedure is added only if property pluginExpose is set</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_build.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the build.xml

  &lt;!-- Package sources for exported utility classes. --&gt;
  &lt;fileset id="PLUGIN.srcs" dir="${dir.src}"&gt;
      &lt;include name="**/PluginConfigList.java"/&gt;
      &lt;include name="**/PluginConfigListLoader.*"/&gt;
  &lt;/fileset&gt;
  &lt;fileset id="images" dir="${dir.htdocs}"&gt;
      &lt;include name="**/PluginConfigList.java"/&gt;
      &lt;include name="**/PluginConfigListLoader.*"/&gt;
  &lt;/fileset&gt;
 </description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_CHANGELOG</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript "$[Comment]" != "" ]</condition>
        <description>create the CHANGELOG file</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_plugin.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the META-INF/plugin.xml</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>restore-ec_visibility</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createHelp.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>if the property "help" exist for the project, use it to create the pages/help.xml.
If not and the fie does not already exist, create a "dummy" page to be filled later</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>createConfigure.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>if the property "configure" exist for the project, use it to create the files:
  pages/configurations.xml
  pages/editConfiguration.xml
  pages/newConfiguration.xml

If not and the fie does not already exist, create a "dummy" page to be filled later</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_cgi-bin_configuration_files</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>if the property "configure" exist for the project, create the files:
  cgi-bin/plugin.cgi
  cgi-bin/jobMonitor.cgi

If not and the fie does not already exist, create a "dummy" page to be filled later</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_java_code</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>if the property "configure" exist for the project, create the files in main/java/ecplugins/XXXX/client
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_ConfigurationManagement.gwt.xml</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>buildPlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>build plugin using ant</description>
        <errorHandling>abortJob</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>savePluginAsArtifactVersion</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[createArtifact]</condition>
        <description>Let's save the plugin in the Artifact Repository</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]/out</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>installPlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript "$[installPlugin]" == "true" ]
</condition>
        <description/>
        <errorHandling>abortProcedureNow</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[SDKResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory>$[directory]/out</workingDirectory>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>promotePlugin</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[/javascript "$[promotePlugin]" == "true" ]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>releaseSemaphore</procedureName>
      <description>Procedure to release the token 

Changelog:
--------------
 10-04-2013   lrochette   Add job counter to help abort a job.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>maxSemaphoreValue</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>semaphoreProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>serializationResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>Procedure to release the token.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>semaphoreProperty</formalParameterName>
        <defaultValue/>
        <description>The path to the property used as a semaphore</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>serializationResource</formalParameterName>
        <defaultValue/>
        <description>This should point to a resouce with a step limit of 1</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>decrementSemaphore</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>removeParameterFromCall</procedureName>
      <description>This procedure parse all the projects, procedures and steps to remove a parameter from the call. To be used after it has been removed from a procedure.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debug</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>param</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>parameter</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>parameter_Name</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>procedure</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>procedure_Name</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project_Name</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debug</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>delete</formalParameterName>
        <defaultValue>false</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>parameter_Name</formalParameterName>
        <defaultValue/>
        <description>The name of the parameter to remove</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>procedure_Name</formalParameterName>
        <defaultValue/>
        <description>The name of the procedure whose parameter is removed</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>project_Name</formalParameterName>
        <defaultValue/>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>project</type>
      </formalParameter>
      <step>
        <stepName>searchAndRemove</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>0 &amp;&amp; Not Ready</condition>
        <description>Process all non plugins projects, all procedures and steps, all schedules</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>restoreObjects</procedureName>
      <description>A procedure to restore the files created by saveAllObjects</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>directory</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>files</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>force</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>directory</formalParameterName>
        <defaultValue/>
        <description>the path where the .xml files reside</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>force</formalParameterName>
        <defaultValue>false</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue>local</defaultValue>
        <description>The name of the resources where the .xml files are available</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>restore</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>saveAllObjects</procedureName>
      <description>export objects individually in a tree like structure for further CMS checkin: 
  Projects
  Procedures
  Resources
  ResourcePools
  Workspaces
  Users
  Groups
</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>caseSensitive</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value/>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>i</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportDeploy</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportGateways</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportGroups</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportResourcePools</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportResources</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportSteps</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportUsers</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportWorkspaces</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>exportZones</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>extractResourcePools</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>extractResources</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pathname</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pattern</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>This procedure brings a finer granularity to a full server export. For example to retrieve an object after a wrong action or a bad code change. By default it exports projects and each procedure individually. In addition by enabling the matching checkboxes, you can also export resources, resource pools, workspaces, users and groups.</value>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>New rendering of the parameters</description>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <emailNotifier>
        <notifierName>failureNotification</notifierName>
        <condition>$[/javascript if(getProperty("outcome") == 'error')
    true;
else
    false;]</condition>
        <configName>default</configName>
        <description>Send email to Admin if it fails</description>
        <destinations>$[/users/admin/email]</destinations>
        <eventType>onCompletion</eventType>
        <formattingTemplate>Subject: Job  '$[jobName]'  from procedure  '$[procedureName]'  $[/myEvent/type]  - Commander notification

$[/server/ec_notifierTemplates/Html_JobTempl/body]</formattingTemplate>
        <propertySheet>
        </propertySheet>
      </emailNotifier>
      <formalParameter>
        <formalParameterName>caseSensitive</formalParameterName>
        <defaultValue/>
        <description>Boolean to make the search case insensitive</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportDeploy</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportGateways</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportGroups</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportResourcePools</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportResources</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportSteps</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>A toggle to export steps or not</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportUsers</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportWorkspaces</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>exportZones</formalParameterName>
        <defaultValue>true</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>pathname</formalParameterName>
        <defaultValue>/tmp/BACKUP</defaultValue>
        <description>Directory where to saved the XML files</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>pattern</formalParameterName>
        <defaultValue/>
        <description>The Perl pattern to apply to the list of objects to save (except for procedures and steps)</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>grabResource</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Capture the resource in case local is a pool.
All steps need to run on the same host</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>local</resourceName>
        <shell/>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveProjectsProceduresWorkflows</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>A step to export each project and procedure individually

Changelog:
2015-10-08 Laurent Rochette
   Add step export as well
2014-02-27 Kate McCormack
  Adding setTimeout equal to 600 so the ec commands won't time out
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveResources</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportResources]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveResourcePools</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportResourcePools]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveGateways</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportGateways]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveZones</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportZones]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveWorkspaces</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportWorkspaces]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveUsers</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportUsers]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveGroups</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportGroups]</condition>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>saveDeployObjects</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition>$[exportDeploy]</condition>
        <description>a step to save the Deploy objects from the Default project</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[/myJob/backupResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>saveProjects</procedureName>
      <description>a framework to export projects.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>includeACLs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>includeNotifiers</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pathname</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>relocatable</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>To overwrite default parameter panel display</description>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <emailNotifier>
        <notifierName>backupFailed</notifierName>
        <condition>$[/javascript if(getProperty("outcome") == 'error')
    true;
else
    false;]</condition>
        <configName>ecloud</configName>
        <description/>
        <destinations>$[/users/admin/email]</destinations>
        <eventType>onCompletion</eventType>
        <formattingTemplate>Subject:Project Backup Failed
Job  '$[jobName]'  from procedure  '$[procedureName]'  $[/myEvent/type]  - Commander notification

$[/server/ec_notifierTemplates/Html_JobTempl/body]</formattingTemplate>
        <propertySheet>
        </propertySheet>
      </emailNotifier>
      <formalParameter>
        <formalParameterName>includeACLs</formalParameterName>
        <defaultValue>false</defaultValue>
        <description> if set to "true", the export will include ACLs.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>includeNotifiers</formalParameterName>
        <defaultValue>false</defaultValue>
        <description> If  set to "true", the export will include email notifiers.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>pathname</formalParameterName>
        <defaultValue>/tmp</defaultValue>
        <description>Directory where to saved the XML files</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>relocatable</formalParameterName>
        <defaultValue>true</defaultValue>
        <description>If set to "true", the export will not include object IDs, ACLs, system property sheets, create/modify times, owners, email notifiers or lastModifiedBy information, and the export file result will be much smaller than a normal export.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <step>
        <stepName>saveProjects</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>A procedure to export each project individually into a XML file for backup

Changelog:
2014-02-27 Kate McCormack
  Adding setTimeout equal to 600 so the ec commands won't time out
2013-12-17 Laurent Rochette
  Add chmod after directory creation for cases when server service and 
      server agent service user are different.
2013-07-28 Laurent Rochette
  Add parameters to include or not ACLs and email notifiers</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>schedulesDisable</procedureName>
      <description>A procedure to disable all the schedules.</description>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>ci</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>execute</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>listProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>plugins</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>execute</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>by default, the procedure will simply produces a report</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>listProperty</formalParameterName>
        <defaultValue>/myJob/scheduleList</defaultValue>
        <description>A property path where to store the list of schedule who where disable for future enabling</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>disableSchedules</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>This step disable all the schedules</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>schedulesEnable</procedureName>
      <description>A procedure to re-enable all the schedules you have previously disabled.</description>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>ci</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>execute</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>listProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>plugins</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>execute</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>by default, the procedure will simply produces a report</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>listProperty</formalParameterName>
        <defaultValue>/myJob/scheduleList</defaultValue>
        <description>A property path where to store the list of schedule who where disable for future enabling</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>enableSchedules</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>This step enable all the schedules previously disabled.</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>sendAlert</procedureName>
      <description>This procedure allows you to send an email alert to all the users registered in the database</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>config</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>html</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>subject</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>text</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>config</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>Mail configuration to use</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>subject</formalParameterName>
        <defaultValue>ElectricFlow Alert:</defaultValue>
        <description>Subject of the email alert to send to ALL users</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>text</formalParameterName>
        <defaultValue/>
        <description>Text of the email to send. Check the html checkbox below if needed</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>textarea</type>
      </formalParameter>
      <step>
        <stepName>sendAlert</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>get the list of users and send an email</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>sub-pac_createConfigurationCode</procedureName>
      <description>sub-procedure to create the code, properties on the current project to transform into a plugin to manage credential configuration
Changelog:
--------------
</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>Project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>javaName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>pluginName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>pluginName</formalParameterName>
        <defaultValue/>
        <description>The name of the plugin to build</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>Project</formalParameterName>
        <defaultValue/>
        <description>The project name</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>create_ui_forms</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>those 2 forms are required if you want to create configuration</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_promoteAction</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>The promoteAction is used to add code automatically to ec_seup.pl</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_createConfiguration_procedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the "createConfiguration" procedure to match the UI form</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_createConfiguration_CreateConfiguration_step</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the "createConfiguration" step in the "createConfiguration" procedure to match the UI form</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_createConfiguration_createAndAttachCredential</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the step createAndAttachCredential in the "createConfiguration" procedure</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>attach_parameter_credential</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>attache the parameter credential to the step "createAndAttachCredential"</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_DeleteConfiguration_procedure</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the "DeleteConfiguration" procedure to match the UI form</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>create_DeleteConfiguration_DeleteConfiguration_step</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>create the "DeleteConfiguration" step in the "DeleteConfiguration" procedure to match the UI form</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subJC_deleteWorkspace</procedureName>
      <description/>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>computeUsage</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>linDir</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>winDir</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>wksName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>computeUsage</formalParameterName>
        <defaultValue>0</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>0</defaultValue>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>linDir</formalParameterName>
        <defaultValue/>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resName</formalParameterName>
        <defaultValue/>
        <description>Resource on which to delete the workspace</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>winDir</formalParameterName>
        <defaultValue/>
        <description/>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteWorkspaceDirectory</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[resName]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-deploymentSize</procedureName>
      <description>a couple of steps to size your ElectricCommander instllation

Number per
 Implementation	     Small	Medium	Large
---------------------------------------------------------
Agents	                      &lt;50	   &gt;50	&gt;1000
Projects	                      &lt;10	   &lt;100	&gt;100
Jobs Per Day	              &lt;200	   &gt;200	&gt;1000
Managed Resources      &lt;100   &lt;1000	&gt;1000
</description>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
      </propertySheet>
      <step>
        <stepName>agents</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Number per 
Implementation	Small	Medium	Large
-------------------------------------------------------
Agents	                &lt;50	          &gt;50	 &gt;1000
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>managedResources</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Number per 
Implementation	Small	Medium	Large
-------------------------------------------------------
Agents	                &lt;100	&lt;1000	 &gt;1000
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>projects</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Number per 
Implementation	Small	Medium	Large
-------------------------------------------------------
Agents	                &lt;10   	&lt;100	 &gt;100
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>jobsPerDay</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Number per 
Implementation	Small	Medium	Large
-------------------------------------------------------
jobs  	                &lt;100	&lt;1000	 &gt;1000
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>jobStepsPerDay</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Number per 
Implementation	Small	Medium	Large
-------------------------------------------------------
jobSteps  	       &lt;5000	&lt;20000	 &gt;20000
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-jobStats</procedureName>
      <description/>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debugMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>number</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debugMode</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>debug mode</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>number</formalParameterName>
        <defaultValue>1000</defaultValue>
        <description>Number of jobSteps to evaluate</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>localUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>A step to find out the percentage of steps and time spend running on local. Best practices call for jobs to run on remote agents
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-localUsage</procedureName>
      <description/>
      <jobNameTemplate>$[/myProject/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>debugMode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>number</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>debugMode</formalParameterName>
        <defaultValue>0</defaultValue>
        <description>debug mode</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>checkbox</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>number</formalParameterName>
        <defaultValue>1000</defaultValue>
        <description>Number of jobSteps to evaluate</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>localUsage</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>A step to find out the percentage of steps and time spend running on local. Best practices call for jobs to run on remote agents
</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-performance</procedureName>
      <description>This is a procedure to test resource performance</description>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>hostName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>hostname</formalParameterName>
        <defaultValue/>
        <description>Name of the machine to test</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue/>
        <description>Name of the resource</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>performance</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[resource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit>10</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName>$[/javascript ("$[/resources/$[resource]/workspaceName]" == "")?"default": "$[/resources/$[resource]/workspaceName]"; ]</workspaceName>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>subPM-ping</procedureName>
      <description>This is a procedure to test ping answer time</description>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>hostName</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>hostname</formalParameterName>
        <defaultValue/>
        <description>Name of the machine to test</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>resource</formalParameterName>
        <defaultValue/>
        <description>Name of the resource</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>ping</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>synchronizePlugins</procedureName>
      <description>A procedure to synchronize plugins between the server and a resource. Plugins are uploaded first as artifacts and downloaded on the resource if it does not already exist.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>agent</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>descriptionForPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>A procedure to synchronize plugins between the server and a resource. Plugins are uploaded first as artifacts and downloaded on the resource if it does not already exist.</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>agent</formalParameterName>
        <defaultValue/>
        <description>Name of the resrouce where to synchronize the plugins</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>uploadPlugins</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>upload all plugins in the artifact Repository</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
      <step>
        <stepName>downloadPlugins</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Parse all plugins:.... artifact and retrieve the latest version in the plugin directory if it's not already there</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[agent]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>testResources</procedureName>
      <description>Test either all resources in the system or all resources in a pool to see if they're alive, and run a test "hello world" command on those that are alive.</description>
      <jobNameTemplate/>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>pool</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>pool</formalParameterName>
        <defaultValue/>
        <description>Optional: specify a resource pool, and the procedure will test all resources in the pool instead of all resources in the system.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>Iterate</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>workflowCleanup</procedureName>
      <description>Delete workflows older than a number of days.
Report the number of workflows.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName>local</resourceName>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>delete Aborted Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Error Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>delete Successful Jobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>deleteAbortedJobs</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>1</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>executeDeletion</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Report</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>false</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Delete</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>true</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>checkedValue</propertyName>
                      <expandable>1</expandable>
                      <value>true</value>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                    <property>
                      <propertyName>initiallyChecked</propertyName>
                      <expandable>1</expandable>
                      <value>0</value>
                    </property>
                    <property>
                      <propertyName>uncheckedValue</propertyName>
                      <expandable>1</expandable>
                      <value>false</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobLevel</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Aborted</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Error &amp; Aborted</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>Error</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>All</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>3</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobPatternMatching</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>jobProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>olderThan</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 month</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>30</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>2 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>60</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option3</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>3 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>91</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option4</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>6 months</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>182</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option5</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>1 year</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>365</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>5</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>wkfPatternMatching</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>wkfProperty</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description>Redefine UI</description>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description>So the procedure is shown in the pickerList</description>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>executeDeletion</formalParameterName>
        <defaultValue>false</defaultValue>
        <description>If this option is not set, only report is done. No real data are deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>olderThan</formalParameterName>
        <defaultValue>91</defaultValue>
        <description>Indicate the numbers of days after which jobs should be deleted</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>wkfPatternMatching</formalParameterName>
        <defaultValue/>
        <description>a SQL pattern matching to automatically preserve some workflows. The pattern must solve for a LIKE statement.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>wkfProperty</formalParameterName>
        <defaultValue>doNotDelete</defaultValue>
        <description>Name of a property attached to your workflows. If this property is set, your workflow won't be deleted no matter how old it is.
</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>deleteWorkflows</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description>Script to delete workflows</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName/>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>ZZZ_DEPRECATED_artifactRepositorySynchronization</procedureName>
      <description>Syncs the contents of a remote repository to this repository's backingstore.
The user must specify a list of remote repositories to query and may specify a filter for a subset of Artifact Version to sync.

The procedure has been deprecated in favor of the Universal one that can accommodate a S3 backend store.</description>
      <jobNameTemplate>$[/plugins[EC-Admin]/project/scripts/jobTemplate]</jobNameTemplate>
      <resourceName/>
      <timeLimit/>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workspaceName/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>artifactReposiotyList</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactRepositoryList</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactRepositoryResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>artifactVersionPattern</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>batchSize</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gAVPattern</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>repoList</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>repoResource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
        <property>
          <propertyName>ec_parameterForm</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>PLACEHOLDER</value>
        </property>
        <property>
          <propertyName>exposeToPlugin</propertyName>
          <description/>
          <expandable>1</expandable>
          <value>1</value>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>artifactRepositoryList</formalParameterName>
        <defaultValue/>
        <description>Comma-separated list of repositories to sync from.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>artifactRepositoryResource</formalParameterName>
        <defaultValue/>
        <description>Name of the resource running the repository to sync to</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>artifactVersionPattern</formalParameterName>
        <defaultValue>*</defaultValue>
        <description>Pattern of artifact version to sync. Examples:
   MyGrp:MyKey:* -- all artifact versions with group MyGrp and key MyKey                    
   MyGrp:*           -- all artifact versions with group MyGrp
   *                     -- all artifact versions. This is the default.</description>
        <expansionDeferred>0</expansionDeferred>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>batchSize</formalParameterName>
        <defaultValue>25</defaultValue>
        <description>Batch size</description>
        <expansionDeferred>0</expansionDeferred>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>syncRepo</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>PLACEHOLDER</command>
        <condition/>
        <description/>
        <errorHandling>failProcedure</errorHandling>
        <exclusiveMode>none</exclusiveMode>
        <logFileName/>
        <parallel>0</parallel>
        <postProcessor/>
        <precondition/>
        <releaseMode>none</releaseMode>
        <resourceName>$[artifactRepositoryResource]</resourceName>
        <shell>ec-perl</shell>
        <timeLimit/>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory/>
        <workspaceName/>
        <propertySheet>
        </propertySheet>
      </step>
    </procedure>
    <schedule>
      <scheduleName>CleanJobs</scheduleName>
      <beginDate/>
      <description>A Schedule to automatically delete jobs older than 30 days</description>
      <endDate/>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays/>
      <priority>normal</priority>
      <procedureName>jobsCleanup</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>2:00</startTime>
      <stopTime/>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays>Tuesday Friday </weekDays>
      <actualParameters>
        <property>
          <propertyName>computeUsage</propertyName>
          <expandable>1</expandable>
          <value>false</value>
        </property>
        <property>
          <propertyName>executeDeletion</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>jobLevel</propertyName>
          <expandable>1</expandable>
          <value>All</value>
        </property>
        <property>
          <propertyName>jobProperty</propertyName>
          <expandable>1</expandable>
          <value>doNotDeleteThisJob</value>
        </property>
        <property>
          <propertyName>olderThan</propertyName>
          <expandable>1</expandable>
          <value>30</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>licenseLogger-reporter</scheduleName>
      <beginDate/>
      <description>Generates and (optionally) emails the periodic license report</description>
      <endDate/>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays>1 2 </monthDays>
      <priority>normal</priority>
      <procedureName>licenseLogger-report</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>8:00</startTime>
      <stopTime/>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays/>
      <actualParameters>
        <property>
          <propertyName>sendEmail</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>licenseLogger-snapshot</scheduleName>
      <beginDate/>
      <description>Gathers a periodic snapshot of license usage</description>
      <endDate/>
      <interval>5</interval>
      <intervalUnits>minutes</intervalUnits>
      <misfirePolicy>ignore</misfirePolicy>
      <monthDays/>
      <priority>normal</priority>
      <procedureName>licenseLogger-snapshot</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>0:02</startTime>
      <stopTime>23:59</stopTime>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays/>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>performanceSchedule</scheduleName>
      <beginDate/>
      <description/>
      <endDate/>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays/>
      <priority>normal</priority>
      <procedureName>performanceMetrics</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>0:05</startTime>
      <stopTime/>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays/>
      <actualParameters>
        <property>
          <propertyName>debugMode</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>numberOfGB</propertyName>
          <expandable>1</expandable>
          <value>10</value>
        </property>
        <property>
          <propertyName>numberOfSteps</propertyName>
          <expandable>1</expandable>
          <value>500</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>RunReport_Performance_Schedule</scheduleName>
      <beginDate/>
      <description/>
      <endDate/>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>ignore</misfirePolicy>
      <monthDays/>
      <priority>normal</priority>
      <procedureName>/plugins/EC-Reports/project/procedures/RunReport_MultiSeries</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>02:00</startTime>
      <stopTime/>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays/>
      <actualParameters>
        <property>
          <propertyName>Chart Time Grouping</propertyName>
          <expandable>1</expandable>
          <value>day</value>
        </property>
        <property>
          <propertyName>Chart X-Axis Label</propertyName>
          <expandable>1</expandable>
          <value>Date</value>
        </property>
        <property>
          <propertyName>Chart Y-Axis Label</propertyName>
          <expandable>1</expandable>
          <value>Seconds</value>
        </property>
        <property>
          <propertyName>Generate Thumbnail</propertyName>
          <expandable>1</expandable>
          <value>1</value>
        </property>
        <property>
          <propertyName>Object Type</propertyName>
          <expandable>1</expandable>
          <value>job</value>
        </property>
        <property>
          <propertyName>Report Title</propertyName>
          <expandable>1</expandable>
          <value>Performance Report</value>
        </property>
        <property>
          <propertyName>Resource</propertyName>
          <expandable>1</expandable>
          <value>local</value>
        </property>
        <property>
          <propertyName>Saved Filter</propertyName>
          <expandable>1</expandable>
          <value>/plugins/EC-Admin/project/ec_savedSearches/last500PerformanceMetricsJobs</value>
        </property>
        <property>
          <propertyName>Series 1 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 1 Display Name</propertyName>
          <expandable>1</expandable>
          <value>Read Perf.</value>
        </property>
        <property>
          <propertyName>Series 1 Property</propertyName>
          <expandable>1</expandable>
          <value>readDiskPerf</value>
        </property>
        <property>
          <propertyName>Series 1 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Min</value>
        </property>
        <property>
          <propertyName>Series 1 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 2 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 2 Display Name</propertyName>
          <expandable>1</expandable>
          <value>Write Perf.</value>
        </property>
        <property>
          <propertyName>Series 2 Property</propertyName>
          <expandable>1</expandable>
          <value>writeDiskPerf</value>
        </property>
        <property>
          <propertyName>Series 2 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Min</value>
        </property>
        <property>
          <propertyName>Series 2 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 3 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 3 Display Name</propertyName>
          <expandable>1</expandable>
          <value>Database Perf.</value>
        </property>
        <property>
          <propertyName>Series 3 Property</propertyName>
          <expandable>1</expandable>
          <value>DBPerf</value>
        </property>
        <property>
          <propertyName>Series 3 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Ave</value>
        </property>
        <property>
          <propertyName>Series 3 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 4 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 4 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Ave</value>
        </property>
        <property>
          <propertyName>Series 4 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Series 5 Chart Type</propertyName>
          <expandable>1</expandable>
          <value>Line</value>
        </property>
        <property>
          <propertyName>Series 5 Property Function</propertyName>
          <expandable>1</expandable>
          <value>Ave</value>
        </property>
        <property>
          <propertyName>Series 5 Stacked</propertyName>
          <expandable>1</expandable>
          <value>0</value>
        </property>
        <property>
          <propertyName>Table Time Column Display Name</propertyName>
          <expandable>1</expandable>
          <value>Time</value>
        </property>
        <property>
          <propertyName>Table Time Grouping</propertyName>
          <expandable>1</expandable>
          <value>auto</value>
        </property>
        <property>
          <propertyName>Time Period</propertyName>
          <expandable>1</expandable>
          <value>window,30</value>
        </property>
      </actualParameters>
      <propertySheet>
      </propertySheet>
    </schedule>
    <schedule>
      <scheduleName>weeklySaveProjects</scheduleName>
      <beginDate/>
      <description/>
      <endDate/>
      <interval>0</interval>
      <intervalUnits>seconds</intervalUnits>
      <misfirePolicy>runOnce</misfirePolicy>
      <monthDays/>
      <priority>normal</priority>
      <procedureName>saveAllObjects</procedureName>
      <scheduleDisabled>1</scheduleDisabled>
      <startTime>4:30</startTime>
      <stopTime/>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays>Tuesday Thursday Saturday </weekDays>
      <actualParameters>
        <property>
          <propertyName>exportDeploy</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>exportGroups</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>exportResourcePools</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>exportResources</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>exportUsers</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>exportWorkspaces</propertyName>
          <expandable>1</expandable>
          <value>true</value>
        </property>
        <property>
          <propertyName>pathname</propertyName>
          <expandable>1</expandable>
          <value>/scratch/BACKUP</value>
        </property>
      </actualParameters>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
  </project>
</exportedData>
